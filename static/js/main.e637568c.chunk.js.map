{"version":3,"sources":["config/Theme.js","GlobalStyle.js","components/FullScreenPage.js","components/Container.js","components/Select.js","components/Button.js","config/Config.js","components/YearSelector.js","pages/Home.js","components/CenterBox.js","pages/Intro.js","components/EventBubble.js","components/EventDialog.js","components/Dialog.js","components/YearGroup.js","data/events.csv","data/celebrities.csv","data/life.csv","pages/Timeline.js","components/MenuBar.js","App.js","reportWebVitals.js","index.js"],"names":["containerMaxWidth","spacing","xxs","BASE_UNIT","xs","x1","x2","x3","x4","GlobalStyle","createGlobalStyle","Theme","FullScreenPage","styled","div","z","console","log","theme","Container","padding","fillHeight","Select","select","Button","button","block","outlined","Utils","yearAd","yearMode","text","x","min","max","Math","useStateWithPromise","initialState","useState","state","setState","resolverRef","useRef","useEffect","current","handleSetState","useCallback","stateAction","Promise","resolve","YearSelector","onSubmit","year","yearRangeMin","Config","yearRangeMax","buttonLabel","yearRange","selectedYear","setSelectedYear","errorMsg","setErrorMsg","i","push","onChange","e","target","value","reverse","map","y","className","onClick","Title","h1","Home","onProceed","style","display","alignItems","marginBottom","StyledCenterBox","CenterBox","children","IntroPage","blink","blinkTop","keyframes","blinkBottom","blinkText","IntroText","EyelidTop","EyelidBottom","Intro","birthYear","onPageChange","isBlinking","setBlinking","setTimeout","blinkDelay","handleColorType","type","StyledEvent","relative","EventThumbnail","collapsed","eventType","lighten","image","darken","EventIcon","EventDescription","EventBubble","title","transform","backgroundImage","opacity","FadeOverlay","open","StyledEventDialog","CloseButton","EventDialog","setOpen","onClose","currentTarget","Dialog","StyledYearGroup","YearGroup","data","maxDisplay","smoothTransition","onDialogOpen","event","getBubbleYPosition","index","getBubbleXPosition","transition","events","Banner","ZoomControls","RefLine","zoomExtent","yearStartDisplay","yearEndDisplay","timelineMinLength","timelineMaxLength","maxZoomOffset","maxContainerHeight","scaleY","d3Scale","domain","range","Timeline","onYearChange","isDialogOpen","setDialogOpen","dialogData","setDialogData","openYearChange","setOpenYearChange","eventsNested","setEventsNested","d3","setTransform","transformedScaleY","setTransformedScaleY","isNormalizingTransform","scrollRange","useMemo","currentScrollListener","setCurrentScrollListener","refLineEl","window","removeEventListener","handleScroll","scrollOffset","document","body","scrollTop","documentElement","preventDefault","scrollTo","addEventListener","passive","all","eventsData","lifeData","celebsData","then","files","eventsNestedTemp","celebrities","d3Collection","key","d","entries","values","forEach","sort","importance","j","preprocessData","scrollToYear","openDialog","zoom","dz","a","tempZoomLevel","k","refLineBb","getBoundingClientRect","zoomCenterY","top","tempTransform","translate","scale","tempScaleY","rescaleY","scrollY","clone","ref","height","fontSize","StyledMenuBar","MenuItem","MenuBar","mode","onYearModeChange","onOpenAbout","onHome","handleYearMode","href","flexGrow","App","appMode","setAppMode","setYearMode","setBirthYear","isTransitioning","setTransitioning","openAbout","setOpenAbout","startTimeline","page","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e637568c.chunk.js","sourcesContent":["const BASE_UNIT = 8;\r\n\r\nexport default {\r\n    containerMaxWidth: 600,\r\n    spacing: {\r\n        xxs: BASE_UNIT / 4,\r\n        xs: BASE_UNIT / 2,\r\n        x1: BASE_UNIT,\r\n        x2: BASE_UNIT * 2,\r\n        x3: BASE_UNIT * 3,\r\n        x4: BASE_UNIT * 4,\r\n    }\r\n};","import { createGlobalStyle } from 'styled-components';\r\nimport Theme from './config/Theme'\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  body {\r\n    /* background-color: #DED8C9; */\r\n    height: 100vh;\r\n    background-attachment: fixed;\r\n    background-repeat: no-repeat;\r\n\r\n    background: \r\n    /* radial-gradient(\r\n        100% 60% at 50% 45%, \r\n        rgba(137, 130, 119, 0) 30%, \r\n        rgba(85, 80, 72, 0.57) 85%, \r\n        rgba(85, 80, 72, 0.75) 100%\r\n      ),  */\r\n      #DED8C9;\r\n    background-blend-mode: normal, normal;\r\n\r\n    font-family: thonglor;\r\n    font-size: 20px;\r\n  }\r\n\r\n  h1, h2, h3, h4, h5, h6 {\r\n    font-family: anugrom;\r\n    font-weight: normal;\r\n  }\r\n\r\n  p {\r\n    margin-top: 0;\r\n    margin-bottom: ${Theme.spacing.x2}px;\r\n  }\r\n\r\n  .mt-0 { margin-top: 0; }\r\n  .mt-1 { margin-top: ${Theme.spacing.x1}px !important; }\r\n  .mt-2 { margin-top: ${Theme.spacing.x2}px !important; }\r\n  .mt-3 { margin-top: ${Theme.spacing.x3}px !important; }\r\n  .mt-4 { margin-top: ${Theme.spacing.x4}px !important; }\r\n\r\n  .mb-0 { margin-bottom: 0; }\r\n  .mb-1 { margin-bottom: ${Theme.spacing.x1}px !important; }\r\n  .mb-2 { margin-bottom: ${Theme.spacing.x2}px !important; }\r\n  .mb-3 { margin-bottom: ${Theme.spacing.x3}px !important; }\r\n  .mb-4 { margin-bottom: ${Theme.spacing.x4}px !important; }\r\n\r\n  .mr-0 { margin-right: 0; }\r\n  .mr-1 { margin-right: ${Theme.spacing.x1}px !important; }\r\n  .mr-2 { margin-right: ${Theme.spacing.x2}px !important; }\r\n  .mr-3 { margin-right: ${Theme.spacing.x3}px !important; }\r\n  .mr-4 { margin-right: ${Theme.spacing.x4}px !important; }\r\n\r\n  .text-center { text-align: center; }\r\n  .text-left { text-align: left; }\r\n  .text-right { text-align: right; }\r\n`;\r\n \r\nexport default GlobalStyle;","import styled from 'styled-components';\r\n\r\nconst FullScreenPage = styled.div`\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    z-index: ${({z}) => z || 1};\r\n`\r\n\r\nexport default FullScreenPage;","import styled from 'styled-components';\r\nimport theme from '../config/Theme';\r\n\r\nconsole.log(theme.spacing.x2);\r\n\r\nconst Container = styled.div`\r\n    width: auto;\r\n    max-width: ${theme.containerMaxWidth}px;\r\n    margin: auto;\r\n    padding: 0 ${({padding}) => padding || theme.spacing.x2}px;\r\n\r\n    ${({fillHeight}) => fillHeight && `height: 100%;`}\r\n`\r\n\r\nexport default Container;","import styled from 'styled-components';\r\nimport theme from '../config/Theme';\r\n\r\nconst Select = styled.select`\r\n    width: 100%;\r\n    border: 1px solid #eee;\r\n    border-radius: ${theme.spacing.xs}px;\r\n    box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);\r\n    height: ${theme.spacing.x4}px;\r\n    padding: 0 ${theme.spacing.x1}px;\r\n`\r\n\r\nexport default Select;","import styled from 'styled-components';\r\nimport theme from '../config/Theme';\r\n\r\nconst Button = styled.button`\r\n    ${({block}) => block && `width: 100%;` }\r\n    border: ${({outlined}) => outlined ? '1px solid #fff' : 'none'};\r\n    border-radius: ${theme.spacing.xs}px;\r\n    /* height: ${theme.spacing.x4}px; */\r\n    padding: ${theme.spacing.x1}px ${theme.spacing.x1 * 1.5}px;\r\n    background-color: ${({outlined}) => outlined ? 'transparent' : '#C14953'};\r\n    ${({outlined}) => !outlined && `box-shadow: 0px 4px 8px rgba(142, 34, 43, 0.21);`}\r\n    color: #fff;\r\n`\r\n\r\nexport default Button;","import { useState, useRef, useCallback, useEffect } from 'react';\r\n\r\nexport const Utils = {\r\n  typeYear: (yearAd, yearMode = \"ad\", text = false) =>\r\n    (text ? (yearMode == \"ad\" ? \"ค.ศ. \" : \"พ.ศ. \") : \"\") +\r\n    (yearMode == \"ad\" ? +yearAd : +yearAd + 543),\r\n  Clamp: (x, min, max) => Math.min(Math.max(x, min), max),\r\n};\r\n\r\nexport const useStateWithPromise = (initialState) => {\r\n  const [state, setState] = useState(initialState);\r\n  const resolverRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (resolverRef.current) {\r\n      resolverRef.current(state);\r\n      resolverRef.current = null;\r\n    }\r\n    /**\r\n     * Since a state update could be triggered with the exact same state again,\r\n     * it's not enough to specify state as the only dependency of this useEffect.\r\n     * That's why resolverRef.current is also a dependency, because it will guarantee,\r\n     * that handleSetState was called in previous render\r\n     */\r\n  }, [resolverRef.current, state]);\r\n\r\n  const handleSetState = useCallback((stateAction) => {\r\n    setState(stateAction);\r\n    return new Promise(resolve => {\r\n      resolverRef.current = resolve;\r\n    });\r\n  }, [setState])\r\n\r\n  return [state, handleSetState];\r\n};\r\n\r\nexport default {\r\n  yearRangeMin: 1920,\r\n  yearRangeMax: 2020,\r\n  defaultYearMode: \"ad\",\r\n  yearsOffset: 2,\r\n  yearHeight: 120,\r\n  spacePerEvent: 80,\r\n  yOffsetCollapsedEvents: 60,\r\n  xSpacePerCollapsedEvent: 16,\r\n  xOffsetCollapsedEvents: 20,\r\n};\r\n","import { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Config, { Utils } from \"../config/Config\";\r\nimport Button from \"./Button\";\r\nimport Select from \"./Select\";\r\n\r\nfunction YearSelector({\r\n  onSubmit = (year) => {},\r\n  yearMode,\r\n  yearRangeMin = Config.yearRangeMin,\r\n  yearRangeMax = Config.yearRangeMax,\r\n  buttonLabel,\r\n}) {\r\n  let yearRange = [];\r\n  const [selectedYear, setSelectedYear] = useState(-1);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setSelectedYear(+e.target.value);\r\n  };\r\n\r\n  const handleProceed = () => {\r\n    if (selectedYear > 0) onSubmit(selectedYear);\r\n    else setErrorMsg(\"กรุณาเลือกปีเกิด\");\r\n  };\r\n\r\n  for (let i = yearRangeMin; i <= yearRangeMax; i++) {\r\n    yearRange.push(i);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Select onChange={handleChange}>\r\n        <option>เลือกปีเกิด</option>\r\n        {yearRange.reverse().map((y, i) => (\r\n          <option key={`select-${y}`} value={y}>\r\n            {Utils.typeYear(y, yearMode, true)}\r\n          </option>\r\n        ))}\r\n      </Select>\r\n      {errorMsg}\r\n      <Button className=\"mt-1\" block onClick={handleProceed}>\r\n        {buttonLabel || \"ไปย้อนดูชีวิตของคุณกัน\"}\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default YearSelector;\r\n","// import logo from './logo.svg';\r\nimport { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport FullScreenPage from \"../components/FullScreenPage\";\r\nimport Container from \"../components/Container\";\r\nimport Select from \"../components/Select\";\r\nimport Button from \"../components/Button\";\r\nimport YearSelector from \"../components/YearSelector\";\r\n\r\nimport Config, { Utils } from \"../config/Config\";\r\nimport Theme from \"../config/Theme\";\r\n\r\nconst Title = styled.h1`\r\n  font-size: 48px;\r\n  margin-bottom: 0;\r\n  margin-bottom: ${Theme.spacing.x2}px;\r\n`;\r\n\r\nfunction Home({ onProceed, yearMode }) {\r\n  let yearRange = [];\r\n  const [selectedYear, setSelectedYear] = useState(-1);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setSelectedYear(+e.target.value);\r\n  };\r\n\r\n  const handleProceed = () => {\r\n    if (selectedYear > 0) onProceed(selectedYear);\r\n    else setErrorMsg(\"กรุณาเลือกปีเกิด\");\r\n  };\r\n\r\n  for (let i = Config.yearRangeMin; i <= Config.yearRangeMax; i++) {\r\n    yearRange.push(i);\r\n  }\r\n\r\n  return (\r\n    <FullScreenPage>\r\n      <Container\r\n        fillHeight\r\n        style={{ display: \"flex\", alignItems: \"center\" }}\r\n        padding={Theme.spacing.x4}\r\n      >\r\n        <div style={{ marginBottom: \"80px\" }}>\r\n          <Title>\r\n            เด็กสมัย<u>ไหน</u>?\r\n          </Title>\r\n          <p>\r\n            เมื่อเกิดคนละปี ก็โตมาในสภาพสังคมคนละแบบ\r\n            ชวนคุณกลับไปลองดูว่าเด็กสมัยคุณเติบโตผ่านอะไรมา และเมื่อเทียบกันแล้ว\r\n            คนอื่นโตมาเหมือนหรือต่างกับคุณยังไงบ้าง\r\n          </p>\r\n          <p>คุณเกิดปี</p>\r\n          <YearSelector onSubmit={onProceed} yearMode={yearMode} />\r\n          {/* <Select onChange={handleChange}>\r\n            <option>เลือกปีเกิด</option>\r\n            {yearRange.reverse().map((y) => (\r\n              <>\r\n                <option key={y} value={y}>\r\n                  {Utils.typeYear(y, yearMode, true)}\r\n                </option>\r\n              </>\r\n            ))}\r\n          </Select>\r\n          {errorMsg}\r\n          <Button className=\"mt-2\" block onClick={handleProceed}>\r\n            ไปย้อนดูชีวิตของคุณกัน\r\n          </Button> */}\r\n        </div>\r\n      </Container>\r\n    </FullScreenPage>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyledCenterBox = styled.div`\r\n  width: auto;\r\n  ${({ fillHeight }) => fillHeight && `height: 100%;`}\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nfunction CenterBox({ className, children, fillHeight }) {\r\n  return (\r\n    <StyledCenterBox className={className} fillHeight={fillHeight}>\r\n      <div>{children}</div>\r\n    </StyledCenterBox>\r\n  );\r\n}\r\n\r\nexport default CenterBox;\r\n","// import logo from './logo.svg';\r\nimport { useEffect, useState } from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport FullScreenPage from \"../components/FullScreenPage\";\r\nimport Container from \"../components/Container\";\r\nimport Select from \"../components/Select\";\r\nimport CenterBox from \"../components/CenterBox\";\r\n\r\nimport Config, { Utils } from \"../config/Config\";\r\nimport Theme from \"../config/Theme\";\r\n\r\nconst blinkDelay = 3;\r\nconst blinkDuration = 2;\r\n\r\nconst IntroPage = styled(FullScreenPage)`\r\n  color: #fff;\r\n  text-align: center;\r\n\r\n  pointer-events: none;\r\n  transition: 1s opacity;\r\n  z-index: 1000;\r\n  ${({ blink }) => !blink && `opacity: 0;`}\r\n`;\r\n\r\nconst blinkTop = keyframes`\r\n  0%   { transform: translateY(0%); }\r\n  20%  { transform: translateY(-50%); }\r\n  40%  { transform: translateY(-10%); }\r\n  100% { transform: translateY(-100%); }\r\n`;\r\n\r\nconst blinkBottom = keyframes`\r\n  0%   { transform: translateY(0%); }\r\n  20%  { transform: translateY(50%); }\r\n  40%  { transform: translateY(10%); }\r\n  100% { transform: translateY(100%); }\r\n`;\r\n\r\nconst blinkText = keyframes`\r\n  0%   { opacity: 1; }\r\n  100% { opacity: 0; }\r\n`;\r\n\r\nconst IntroText = styled(CenterBox)`\r\n  color: #fff;\r\n\r\n  animation-name: ${({ blink }) => (blink ? blinkText : \"none\")};\r\n  animation-delay: ${blinkDelay}s;\r\n  animation-duration: ${blinkDuration}s;\r\n  animation-fill-mode: forwards;\r\n  transition: 0.3s all;\r\n\r\n  * {\r\n    margin: 0;\r\n    margin-bottom: ${Theme.spacing.x1}px;\r\n  }\r\n`;\r\n\r\nconst EyelidTop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 60%;\r\n  z-index: -1;\r\n  background: linear-gradient(to bottom, #000f 90%, #0000 100%);\r\n\r\n  animation-name: ${({ blink }) => (blink ? blinkTop : \"none\")};\r\n  animation-delay: ${blinkDelay}s;\r\n  animation-duration: ${blinkDuration}s;\r\n  animation-fill-mode: forwards;\r\n  transition: 0.3s all;\r\n`;\r\n\r\nconst EyelidBottom = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 60%;\r\n  z-index: -1;\r\n  background: linear-gradient(to top, #000f 90%, #0000 100%);\r\n\r\n  animation-name: ${({ blink }) => (blink ? blinkBottom : \"none\")};\r\n  animation-delay: ${blinkDelay}s;\r\n  animation-duration: ${blinkDuration}s;\r\n  animation-fill-mode: forwards;\r\n  transition: 0.3s all;\r\n`;\r\n\r\nfunction Intro({\r\n  birthYear = 0,\r\n  yearMode = \"ad\",\r\n  blink = false,\r\n  onPageChange = () => {},\r\n}) {\r\n  const yearRange = [];\r\n  const [isBlinking, setBlinking] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\"blink check\", blink);\r\n    if (blink) {\r\n      console.log(\"blink started\");\r\n      setBlinking(true);\r\n      setTimeout(onPageChange, (blinkDelay / 2) * 1000);\r\n      setTimeout(() => setBlinking(false), (blinkDelay + blinkDuration) * 1000);\r\n    }\r\n  }, [blink]);\r\n\r\n  return (\r\n    <IntroPage z={100} blink={isBlinking}>\r\n      <EyelidTop blink={blink} />\r\n      <EyelidBottom blink={blink} />\r\n      <IntroText fillHeight blink={blink}>\r\n        <p>นี่คือโลกในมุมมองของ</p>\r\n        <h1>\r\n          เด็กสมัย <u>{Utils.typeYear(birthYear, yearMode)}</u>\r\n        </h1>\r\n      </IntroText>\r\n    </IntroPage>\r\n  );\r\n}\r\n\r\nexport default Intro;\r\n","import styled from \"styled-components\";\r\nimport Theme from \"../config/Theme\";\r\nimport { lighten, darken } from \"polished\";\r\n\r\nconst borderWidth = 3;\r\n\r\nconst handleColorType = (type) => {\r\n  switch (type) {\r\n    case \"thailand\":\r\n      return \"#D89D3E\";\r\n    case \"world\":\r\n      return \"#6599A5\";\r\n    case \"birthyear\":\r\n      return \"#ac646a\";\r\n    default:\r\n      return \"#fff\";\r\n  }\r\n};\r\n\r\nconst StyledEvent = styled.div`\r\n  display: flex;\r\n  width: 200px;\r\n  max-width: 200px;\r\n  height: 64px;\r\n  overflow: visible;\r\n  align-items: center;\r\n  transform: translateY(-50%);\r\n  position: ${({ relative }) => (relative ? \"relative\" : \"absolute\")};\r\n  z-index: ${({z}) => z};\r\n\r\n  transition: 0.3s all;\r\n`;\r\n\r\nconst EventThumbnail = styled.div`\r\n  width: 64px; //${({ collapsed }) => (collapsed ? \"24px\" : \"64px\")};\r\n  flex: 0 0 64px;//${({ collapsed }) => (collapsed ? \"24px\" : \"64px\")};\r\n  height: 64px;//${({ collapsed }) => (collapsed ? \"24px\" : \"64px\")};\r\n  ${({ collapsed }) => collapsed && `transform: scale(0.375);`}\r\n  border-radius: ${({ eventType }) =>\r\n    eventType == \"birthyear\" ? \"50%\" : \"8px\"};\r\n  box-sizing: border-box;\r\n  background-color: ${({ eventType }) =>\r\n    lighten(0.2, handleColorType(eventType))};\r\n  /* background-image: url(${({ image }) => image}); */\r\n  background-size: cover;\r\n  background-position: center center;\r\n  border: ${({ collapsed }) => borderWidth * (collapsed ? 2.5 : 1)}px solid\r\n    ${({ eventType }) => handleColorType(eventType)};\r\n  margin-right: ${Theme.spacing.x1 * 1.5}px;\r\n  position: relative;\r\n  box-shadow: 0px 2px 4px\r\n    ${({ eventType }) => darken(0.3, handleColorType(eventType))}44;\r\n\r\n  transition: 0.3s transform;\r\n`;\r\n\r\nconst EventIcon = styled.div`\r\n  position: absolute;\r\n  right: -${borderWidth}px;\r\n  bottom: -${borderWidth}px;\r\n  width: 24px;\r\n  height: 24px;\r\n\r\n  background: ${({ eventType }) => handleColorType(eventType)};\r\n  border-radius: ${({ eventType }) =>\r\n    eventType == \"birthyear\" ? \"50%\" : \"8px 0px\"};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  &::after {\r\n    content: \" \";\r\n    display: block;\r\n    width: 16px;\r\n    height: 16px;\r\n    background-color: #fff;\r\n    border-radius: 50%;\r\n  }\r\n`;\r\n\r\nconst EventDescription = styled.div``;\r\n\r\nfunction EventBubble({\r\n  title,\r\n  type = \"world\",\r\n  image,\r\n  onClick = () => {},\r\n  x,\r\n  y,\r\n  z,\r\n  relative,\r\n  collapsed = false,\r\n}) {\r\n  return (\r\n    <StyledEvent\r\n      onClick={() => {\r\n        if (!collapsed) onClick();\r\n      }}\r\n      relative={relative}\r\n      style={{ transform: `translate(${x}px, ${y}px)` }}\r\n      z={z}\r\n    >\r\n      <EventThumbnail\r\n        eventType={type}\r\n        style={{ backgroundImage: `url(/img/events/${image})` }}\r\n        collapsed={collapsed}\r\n      >\r\n        {!collapsed && <EventIcon eventType={type}></EventIcon>}\r\n      </EventThumbnail>\r\n      {!collapsed && (\r\n        <EventDescription eventType={type}>\r\n          {type == \"birthyear\" && (\r\n            <small style={{ opacity: 0.7 }}>\r\n              ปีเกิด\r\n              <br />\r\n            </small>\r\n          )}\r\n          {title}\r\n        </EventDescription>\r\n      )}\r\n    </StyledEvent>\r\n  );\r\n}\r\n\r\nexport default EventBubble;\r\n","import styled from \"styled-components\";\r\nimport Theme from \"../config/Theme\";\r\nimport Button from \"./Button\";\r\nimport { lighten, darken } from \"polished\";\r\nimport { Utils } from \"../config/Config\";\r\n\r\nconst borderWidth = 4;\r\n\r\nconst handleColorType = (type) => {\r\n  switch (type) {\r\n    case \"thailand\":\r\n      return \"#D89D3E\";\r\n    case \"world\":\r\n      return \"#6599A5\";\r\n    case \"birthyear\":\r\n      return \"#ac646a\";\r\n    default:\r\n      return \"#fff\";\r\n  }\r\n};\r\n\r\nconst FadeOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: #0008;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 500;\r\n\r\n  transition: 0.3s all;\r\n  ${({ open }) =>\r\n    !open &&\r\n    `\r\n    opacity: 0;\r\n    pointer-events: none;\r\n  `}\r\n`;\r\n\r\nconst StyledEventDialog = styled.div`\r\n  width: 320px;\r\n  max-width: calc(100% - ${Theme.spacing.x2 * 2}px);\r\n  /* align-items: center; */\r\n  /* transform: translateY(-50%); */\r\n  border-radius: 8px;\r\n  background-color: ${({ eventType }) =>\r\n    darken(0.1, handleColorType(eventType))};\r\n  box-shadow: 0px 2px 4px\r\n    ${({ eventType }) => darken(0.3, handleColorType(eventType))}44;\r\n  color: #fff;\r\n  position: relative;\r\n\r\n  transition: 0.3s all;\r\n  ${({ open }) =>\r\n    !open &&\r\n    `\r\n    opacity: 0;\r\n    transform: translateY(100px);\r\n  `}\r\n`;\r\n\r\nconst EventThumbnail = styled.div`\r\n  width: 100%;\r\n  height: 240px;\r\n\r\n  border-radius: 8px;\r\n  box-sizing: border-box;\r\n  background-size: cover;\r\n  background-position: center center;\r\n\r\n  background-color: ${({ eventType }) =>\r\n    lighten(0.2, handleColorType(eventType))};\r\n  background-image: url(${({ image }) => image});\r\n  border: ${borderWidth}px solid\r\n    ${({ eventType }) => darken(0.1, handleColorType(eventType))};\r\n\r\n  position: relative;\r\n`;\r\n\r\nconst EventIcon = styled.div`\r\n  position: absolute;\r\n  right: -${borderWidth}px;\r\n  bottom: -${borderWidth}px;\r\n  /* width: 24px; */\r\n  height: 24px;\r\n  padding: 0 ${Theme.spacing.x1}px;\r\n\r\n  background: ${({ eventType }) => darken(0.1, handleColorType(eventType))};\r\n  border-radius: ${({ eventType }) =>\r\n    eventType == \"birthyear\" ? \"50%\" : \"8px 0px\"};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst EventDescription = styled.div`\r\n  padding: ${Theme.spacing.x2}px;\r\n\r\n  * {\r\n    margin: 0;\r\n    margin-bottom: ${Theme.spacing.x1}px;\r\n\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  h2 {\r\n    line-height: 1.2;\r\n  }\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  border: none;\r\n  color: #fff;\r\n  display: flex;\r\n  font-size: 24px;\r\n  line-height: 1;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  width: 32px;\r\n  height: 32px;\r\n  right: 8px;\r\n  top: 8px;\r\n\r\n  z-index: 10;\r\n  background: rgba(51, 51, 51, 0.5);\r\n  border-radius: 16px;\r\n`;\r\n\r\nfunction EventDialog({\r\n  open,\r\n  setOpen = (open) => {},\r\n  children,\r\n  title,\r\n  type = \"world\",\r\n  year,\r\n  yearMode,\r\n  birthYear,\r\n  image,\r\n  onClick = () => {},\r\n  onClose = () => {},\r\n}) {\r\n  return (\r\n    <FadeOverlay\r\n      open={open}\r\n      onClick={(e) => {\r\n        if (e.currentTarget == e.target) setOpen(false);\r\n      }}\r\n    >\r\n      <StyledEventDialog onClick={onClick} eventType={type} open={open}>\r\n        <CloseButton\r\n          onClose={onClose}\r\n          onClick={(e) => {\r\n            setOpen(false);\r\n            onClose(e);\r\n          }}\r\n        >\r\n          ×\r\n        </CloseButton>\r\n        <EventThumbnail\r\n          style={{ backgroundImage: `url(/img/events/${image})` }}\r\n          eventType={type}\r\n        >\r\n          <EventIcon eventType={type}>⬤ เหตุการณ์สำคัญโลก</EventIcon>\r\n        </EventThumbnail>\r\n        <EventDescription eventType={type}>\r\n          <h2>{title}</h2>\r\n          <p>\r\n            {Utils.typeYear(year, yearMode, true)} - เด็กสมัย {birthYear} อายุ{\" \"}\r\n            {year - birthYear}} ปี\r\n          </p>\r\n          <Button className=\"mt-1\" block outlined>\r\n            อ่านเพิ่มเติมเกี่ยวกับเหตุการณ์นี้\r\n          </Button>\r\n        </EventDescription>\r\n      </StyledEventDialog>\r\n    </FadeOverlay>\r\n  );\r\n}\r\n\r\nexport default EventDialog;\r\n","import styled from \"styled-components\";\r\nimport Theme from \"../config/Theme\";\r\nimport Button from \"./Button\";\r\nimport { lighten, darken } from \"polished\";\r\n\r\nconst borderWidth = 4;\r\n\r\nconst FadeOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: #0008;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 500;\r\n\r\n  transition: 0.3s all;\r\n  ${({ open }) =>\r\n    !open &&\r\n    `\r\n    opacity: 0;\r\n    pointer-events: none;\r\n  `}\r\n`;\r\n\r\nconst StyledEventDialog = styled.div`\r\n  width: calc(100% - ${Theme.spacing.x2 * 2}px);\r\n  max-width: 480px;\r\n  /* align-items: center; */\r\n  /* transform: translateY(-50%); */\r\n  border-radius: 8px;\r\n  background-color: #ece8e3;\r\n  box-shadow: 0px 2px 4px ${darken(0.3, '#ece8e3')};\r\n  color: #222;\r\n  position: relative;\r\n  padding: ${Theme.spacing.x3}px;\r\n  box-sizing: border-box;\r\n\r\n  transition: 0.3s all;\r\n  ${({ open }) =>\r\n    !open &&\r\n    `\r\n    opacity: 0;\r\n    transform: translateY(100px);\r\n  `}\r\n\r\n* {\r\n    margin: 0;\r\n    margin-bottom: ${Theme.spacing.x1}px;\r\n\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  h1, h2, h3, h4, h5, h6 {\r\n    line-height: 1.2;\r\n  }\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  border: none;\r\n  color: #fff;\r\n  display: flex;\r\n  font-size: 24px;\r\n  line-height: 1;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  width: 32px;\r\n  height: 32px;\r\n  right: 8px;\r\n  top: 8px;\r\n\r\n  z-index: 10;\r\n  background: rgba(51, 51, 51, 0.5);\r\n  border-radius: 16px;\r\n`;\r\n\r\nfunction Dialog({\r\n  open,\r\n  setOpen = (open) => {},\r\n  children,\r\n  onClose = () => {},\r\n}) {\r\n  return (\r\n    <FadeOverlay\r\n      open={open}\r\n      onClick={(e) => {\r\n        if ((e.currentTarget == e.target)) setOpen(false);\r\n      }}\r\n    >\r\n      <StyledEventDialog open={open}>\r\n        <CloseButton\r\n          onClose={onClose}\r\n          onClick={(e) => {\r\n            setOpen(false);\r\n            onClose(e);\r\n          }}\r\n        >\r\n          ×\r\n        </CloseButton>\r\n        {children}\r\n      </StyledEventDialog>\r\n    </FadeOverlay>\r\n  );\r\n}\r\n\r\nexport default Dialog;\r\n","import { max } from \"d3\";\r\nimport styled from \"styled-components\";\r\nimport Config, { Utils } from \"../config/Config\";\r\nimport EventBubble from \"./EventBubble\";\r\n\r\nconst StyledYearGroup = styled.div`\r\n  position: absolute;\r\n`;\r\n\r\nfunction YearGroup({\r\n  year,\r\n  y,\r\n  yearMode,\r\n  birthYear,\r\n  data,\r\n  maxDisplay = 1,\r\n  className,\r\n  children,\r\n  smoothTransition = true,\r\n  onDialogOpen = (event) => {},\r\n}) {\r\n  // console.log(\"events\", data.year, data);\r\n  const getBubbleYPosition = (index) =>\r\n    index < maxDisplay\r\n      ? index * Config.spacePerEvent\r\n      : (maxDisplay - 1) * Config.spacePerEvent + Config.yOffsetCollapsedEvents;\r\n\r\n  const getBubbleXPosition = (index) =>\r\n    index < maxDisplay\r\n      ? 0\r\n      : (index - maxDisplay) * Config.xSpacePerCollapsedEvent;\r\n\r\n  return (\r\n    <StyledYearGroup\r\n      style={{\r\n        transform: `translateY(${y}px)`,\r\n        transition: smoothTransition ? \"0.3s all\" : \"none\",\r\n      }}\r\n    >\r\n      {Utils.typeYear(year, yearMode)} | {+year - +birthYear} ปี\r\n      {data.events.map((event, index) => (\r\n        <EventBubble\r\n          y={getBubbleYPosition(index)}\r\n          x={100 + getBubbleXPosition(index)}\r\n          title={event.event}\r\n          type={event.type}\r\n          image={event.image}\r\n          collapsed={index >= maxDisplay}\r\n          z={10 - index}\r\n          key={year + \"-\" + index}\r\n          onClick={() => onDialogOpen(event)}\r\n        />\r\n      ))}\r\n    </StyledYearGroup>\r\n  );\r\n}\r\n\r\nexport default YearGroup;\r\n","export default __webpack_public_path__ + \"static/media/events.44603726.csv\";","export default __webpack_public_path__ + \"static/media/celebrities.830a867e.csv\";","export default __webpack_public_path__ + \"static/media/life.91f8f7a1.csv\";","import { useEffect, useState, useRef, useMemo } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Container from \"../components/Container\";\r\nimport Button from \"../components/Button\";\r\nimport EventBubble from \"../components/EventBubble\";\r\nimport EventDialog from \"../components/EventDialog\";\r\nimport YearSelector from \"../components/YearSelector\";\r\nimport Dialog from \"../components/Dialog\";\r\nimport YearGroup from \"../components/YearGroup\";\r\n\r\nimport Config, { Utils, useStateWithPromise } from \"../config/Config\";\r\nimport Theme from \"../config/Theme\";\r\n\r\nimport * as d3 from \"d3\";\r\nimport * as d3Collection from \"d3-collection\";\r\nimport * as d3Scale from \"d3-scale\";\r\n\r\nimport clone from \"clone\";\r\n\r\nimport eventsData from \"../data/events.csv\";\r\nimport celebsData from \"../data/celebrities.csv\";\r\nimport lifeData from \"../data/life.csv\";\r\n\r\nimport { zoom } from \"d3\";\r\n\r\nconst Banner = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  right: ${Theme.spacing.x2}px;\r\n  padding: ${Theme.spacing.x2}px;\r\n\r\n  text-align: right;\r\n  background: #ece8e3;\r\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.15);\r\n  border-radius: 0px 0px 8px 8px;\r\n  z-index: 100;\r\n\r\n  h1 {\r\n    margin: 0;\r\n    line-height: 1.2;\r\n    margin-bottom: ${Theme.spacing.x1}px;\r\n  }\r\n`;\r\n\r\nconst ZoomControls = styled.div`\r\n  position: fixed;\r\n  right: ${Theme.spacing.x2}px;\r\n  bottom: 80px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst RefLine = styled.div`\r\n  width: 100%;\r\n  height: 4px;\r\n  background-color: #f005;\r\n  position: fixed;\r\n  top: 50vh;\r\n`;\r\n\r\nconst zoomExtent = [1, 5];\r\n\r\nconst yearStartDisplay = Config.yearRangeMin - Config.yearsOffset;\r\nconst yearEndDisplay = Config.yearRangeMax + Config.yearsOffset;\r\n\r\nconst yearSpan = Config.yearRangeMax - Config.yearRangeMin;\r\nconst yearSpanToDisplay = yearSpan + 2 * Config.yearsOffset;\r\nconst timelineMinLength = yearSpanToDisplay * Config.yearHeight;\r\nconst timelineMaxLength = timelineMinLength * zoomExtent[1];\r\n\r\nconst maxZoomOffset = timelineMaxLength - timelineMinLength;\r\nconst maxContainerHeight = timelineMaxLength * 2 - timelineMinLength;\r\n\r\nconst scaleY = d3Scale\r\n  .scaleLinear()\r\n  .domain([yearStartDisplay, yearEndDisplay])\r\n  .range([maxZoomOffset, maxZoomOffset + timelineMinLength]);\r\n\r\nfunction Timeline({ birthYear, yearMode, onYearChange = (year) => {} }) {\r\n  const [isDialogOpen, setDialogOpen] = useState(false);\r\n  const [dialogData, setDialogData] = useState({});\r\n  const [openYearChange, setOpenYearChange] = useState(false);\r\n  const [eventsNested, setEventsNested] = useState([]);\r\n\r\n  const [transform, setTransform] = useStateWithPromise(d3.zoomIdentity);\r\n  const [transformedScaleY, setTransformedScaleY] = useStateWithPromise(\r\n    () => scaleY\r\n  );\r\n  // const transformedScaleY = useMemo(() => transform.rescaleY(scaleY), [transform]);\r\n  const [smoothTransition, setSmoothTransition] = useStateWithPromise(true);\r\n  const [isNormalizingTransform, setNormalizingTransform] = useStateWithPromise(\r\n    false\r\n  );\r\n\r\n\r\n  const scrollRange = useMemo(() => {\r\n    let x = [\r\n      transformedScaleY(yearStartDisplay),\r\n      transformedScaleY(yearEndDisplay),\r\n    ];\r\n    return x;\r\n  }, [transformedScaleY]);\r\n\r\n  const [currentScrollListener, setCurrentScrollListener] = useState(null)\r\n\r\n  const refLineEl = useRef(null);\r\n\r\n  const handleYearChange = (year) => {\r\n    setOpenYearChange(false);\r\n    onYearChange(year);\r\n    scrollToYear(year);\r\n  };\r\n\r\n  const preprocessData = (events, celebrities) => {\r\n    let eventsNestedTemp = d3Collection\r\n      .nest()\r\n      .key((d) => d.year)\r\n      .entries(events)\r\n      .map((d) => ({\r\n        year: d.key,\r\n        events: d.values,\r\n      }));\r\n\r\n    eventsNestedTemp.forEach((d) => {\r\n      d.events.sort((x, y) => x.importance - y.importance);\r\n      d.celebrities = [];\r\n    });\r\n\r\n    for (let i in eventsNestedTemp) {\r\n      let x = -1;\r\n      for (let j in celebrities) {\r\n        if (+celebrities[j].year == +eventsNestedTemp[i].year) {\r\n          celebrities[j].type = \"birthyear\";\r\n          eventsNestedTemp[i].events.push(celebrities[j]);\r\n        }\r\n      }\r\n    }\r\n\r\n    return eventsNestedTemp;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (currentScrollListener)\r\n      window.removeEventListener(\"scroll\", currentScrollListener);\r\n    \r\n    const handleScroll = (e) => {\r\n      const scrollOffset =\r\n        document.body.scrollTop || document.documentElement.scrollTop;\r\n      // console.log(scrollRange, transform);\r\n      if (scrollOffset < scrollRange[0]) {\r\n        console.log('too low')\r\n        e.preventDefault();\r\n        window.scrollTo(0, scrollRange[0]);\r\n      }\r\n      if (scrollOffset > scrollRange[1]) {\r\n        console.log('too high')\r\n        e.preventDefault();\r\n        window.scrollTo(0, scrollRange[1]);\r\n      }\r\n    };\r\n    setCurrentScrollListener(() => handleScroll);\r\n    window.addEventListener(\"scroll\", handleScroll, { passive: false });\r\n  }, [scrollRange]);\r\n\r\n  useEffect(() => {\r\n    Promise.all([\r\n      d3.csv(eventsData),\r\n      d3.csv(lifeData),\r\n      d3.csv(celebsData),\r\n    ]).then((files) => {\r\n      console.log(\"fileloaded\");\r\n      let events = files[0];\r\n      let life = files[1];\r\n      let celebrities = files[2];\r\n\r\n      let eventsNestedTemp = preprocessData(events, celebrities);\r\n      setEventsNested(eventsNestedTemp);\r\n\r\n      scrollToYear(birthYear);\r\n    });\r\n  }, []);\r\n\r\n  const onUpdate = () => {\r\n    let eventsNestedTemp = clone(eventsNested);\r\n    eventsNestedTemp.forEach((x) => {\r\n      x.y = scaleY(x.year);\r\n    });\r\n    setEventsNested(eventsNestedTemp);\r\n  };\r\n\r\n  const openDialog = (event) => {\r\n    setDialogData(event);\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const zoom = async (dz) => {\r\n    let tempZoomLevel = Utils.Clamp(\r\n      transform.k + dz,\r\n      zoomExtent[0],\r\n      zoomExtent[1]\r\n    );\r\n    // let k = Utils.Clamp(transform.k * dy / lastDy, 1, 5);\r\n    let scrollTop = document.documentElement.scrollTop;\r\n    let refLineBb = refLineEl.current.getBoundingClientRect();\r\n    let zoomCenterY = scrollTop + refLineBb.top;\r\n\r\n    let oldRefY = zoomCenterY;\r\n    let newRefY = zoomCenterY * tempZoomLevel;\r\n    let dyScroll = newRefY - oldRefY;\r\n    // let tempTransform = d3.zoomIdentity\r\n    let tempTransform = transform\r\n      .translate(0, -zoomCenterY)\r\n      .scale(tempZoomLevel / transform.k);\r\n      // .scale(tempZoomLevel);\r\n    \r\n    console.log(tempTransform, zoomCenterY);\r\n\r\n    let tempScaleY = tempTransform.rescaleY(transformedScaleY);\r\n\r\n    let _transform = transform;\r\n\r\n    setTransform(tempTransform)\r\n    setTransformedScaleY(() => tempScaleY)\r\n    // await Promise.all([\r\n    // ])\r\n  };\r\n\r\n  const scrollToYear = (year, scale) => {\r\n    let refLineBb = refLineEl.current.getBoundingClientRect();\r\n    let scaledYear = scale ? scale(year) : transformedScaleY(year);\r\n    let scrollY = scaledYear - refLineBb.top;\r\n    // console.log(scaleY(birthYear));\r\n    window.scrollTo(0, scrollY);\r\n  };\r\n\r\n  useEffect(onUpdate, []);\r\n\r\n  return (\r\n    <>\r\n      <RefLine ref={refLineEl}></RefLine>\r\n      <Container style={{ height: `${maxContainerHeight}px` }}>\r\n        <Banner>\r\n          <h1>\r\n            <div style={{ fontSize: \"21px\" }}>โลกในมุมมอง</div>\r\n            <div style={{ fontSize: \"28px\" }}>\r\n              เด็กสมัย <u>{Utils.typeYear(birthYear, yearMode)}</u>\r\n            </div>\r\n          </h1>\r\n          <Button onClick={() => setOpenYearChange(true)}>เปลี่ยนปีเกิด</Button>\r\n        </Banner>\r\n        {eventsNested.map((x, i) => (\r\n          <YearGroup\r\n            year={x.year}\r\n            data={x}\r\n            yearMode={yearMode}\r\n            birthYear={birthYear}\r\n            y={transformedScaleY(x.year)}\r\n            onDialogOpen={openDialog}\r\n            maxDisplay={transform.k}\r\n            smoothTransition={!isNormalizingTransform}\r\n            key={`item${i}`}\r\n          />\r\n        ))}\r\n        <EventDialog\r\n          open={isDialogOpen}\r\n          setOpen={setDialogOpen}\r\n          title={dialogData.event}\r\n          year={dialogData.year}\r\n          yearMode={yearMode}\r\n          birthYear={birthYear}\r\n          image={dialogData.image}\r\n          type={dialogData.type}\r\n        />\r\n        <ZoomControls>\r\n          <Button onClick={() => zoom(1)}>+</Button>\r\n          <Button onClick={() => zoom(-1)}>-</Button>\r\n        </ZoomControls>\r\n      </Container>\r\n      <Dialog open={openYearChange} setOpen={setOpenYearChange}>\r\n        <h2>เปลี่ยนปีเกิด</h2>\r\n        <YearSelector onSubmit={handleYearChange} yearMode={yearMode} />\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Timeline;\r\n","import styled from \"styled-components\";\r\nimport Theme from \"../config/Theme\";\r\nimport Container from \"./Container\";\r\n\r\nconst StyledMenuBar = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  height: 80px;\r\n  background: linear-gradient(180deg, rgba(56, 53, 49, 0) 0%, #383531 100%);\r\n  z-index: 100;\r\n`;\r\n\r\nconst MenuItem = styled.div`\r\n  padding-bottom: ${Theme.spacing.x2}px;\r\n  color: #fff;\r\n  margin-right: ${Theme.spacing.x2}px;\r\n\r\n  &:last-child {\r\n    margin-right: 0;\r\n  }\r\n\r\n  a:link, a:visited {\r\n    color: #fff;\r\n  }\r\n\r\n  a.active {\r\n    opacity: 0.7;\r\n    font-weight: bold;\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nfunction MenuBar({\r\n  mode = \"home\",\r\n  yearMode,\r\n  onYearModeChange = (mode) => {},\r\n  onOpenAbout = () => {},\r\n  onHome = () => {},\r\n}) {\r\n  const handleYearMode = (e, mode) => {\r\n    e.preventDefault();\r\n    console.log('!!!!!')\r\n    onYearModeChange(mode);\r\n  };\r\n\r\n  return (\r\n    <StyledMenuBar>\r\n      <Container fillHeight style={{ display: \"flex\", alignItems: \"flex-end\" }}>\r\n        {mode != \"home\" && (\r\n          <>\r\n            <MenuItem onClick={onHome}>Home</MenuItem>\r\n          </>\r\n        )}\r\n        <MenuItem>\r\n          <a\r\n            href=\"#\"\r\n            onClick={(e) => {\r\n              handleYearMode(e, \"be\");\r\n            }}\r\n            className={yearMode == 'be' ? 'active' : ''}\r\n          >\r\n            พ.ศ.\r\n          </a>{\" \"}\r\n          |{\" \"}\r\n          <a\r\n            href=\"#\"\r\n            onClick={(e) => {\r\n              handleYearMode(e, \"ad\");\r\n            }}\r\n            className={yearMode == 'ad' ? 'active' : ''}\r\n          >\r\n            ค.ศ.\r\n          </a>\r\n        </MenuItem>\r\n        <div style={{ flexGrow: 1 }}></div>\r\n        {mode != \"home\" && (\r\n          <>\r\n            <MenuItem>วิธีเล่น</MenuItem>\r\n            <MenuItem>สัญลักษณ์</MenuItem>\r\n          </>\r\n        )}\r\n        <MenuItem onClick={onOpenAbout}>About</MenuItem>\r\n      </Container>\r\n    </StyledMenuBar>\r\n  );\r\n}\r\n\r\nexport default MenuBar;\r\n","// import logo from './logo.svg';\nimport { useState } from \"react\";\nimport GlobalStyle from \"./GlobalStyle\";\nimport \"./App.css\";\n\nimport Home from \"./pages/Home\";\nimport Intro from \"./pages/Intro\";\nimport Timeline from \"./pages/Timeline\";\nimport MenuBar from \"./components/MenuBar\";\nimport Dialog from \"./components/Dialog\";\n\nfunction App() {\n  const [appMode, setAppMode] = useState(\"home\");\n  const [yearMode, setYearMode] = useState(\"ad\");\n  const [birthYear, setBirthYear] = useState(1995);\n  const [isTransitioning, setTransitioning] = useState(false);\n  const [openAbout, setOpenAbout] = useState(false);\n\n  const startTimeline = (year) => {\n    console.log(\"start transtiion\");\n    setBirthYear(year);\n    setTransitioning(false);\n    setTimeout(() => {\n      setTransitioning(true);\n    }, 100);\n  };\n\n  const onPageChange = (page) => {\n    console.log(\"pagechange\");\n    setAppMode(page);\n  };\n\n  return (\n    <div className=\"App\">\n      <GlobalStyle />\n\n      {appMode == \"home\" && (\n        <Home yearMode={yearMode} onProceed={startTimeline} />\n      )}\n      {appMode == \"timeline\" && (\n        <Timeline\n          yearMode={yearMode}\n          birthYear={birthYear}\n          onYearChange={startTimeline}\n        />\n      )}\n\n      <Intro\n        yearMode={yearMode}\n        blink={isTransitioning}\n        birthYear={birthYear}\n        onPageChange={() => {\n          onPageChange(\"timeline\");\n        }}\n      />\n\n      <MenuBar\n        mode={appMode}\n        yearMode={yearMode}\n        onYearModeChange={(mode) => setYearMode(mode)}\n        onHome={() => {\n          onPageChange(\"home\");\n        }}\n        onOpenAbout={() => setOpenAbout(true)}\n      />\n\n      <Dialog open={openAbout} setOpen={setOpenAbout}>\n        <p className=\"mb-0\">About</p>\n        <h2 className=\"mb-4\">จาก \"เด็กสมัยนี้\"</h2>\n        <p>\n          เราเชื่อว่าการเปลี่ยนแปลงจะเกิดขึ้นได้ ส่วนหนึ่งเกิดจากการเข้าใจกัน\n          และการเข้าใจกันจะเกิดขึ้นได้\n          ส่วนหนึ่งคือการเข้าใจว่าแต่ละคนเติบโตมาในสภาพแวดล้อมที่แตกต่างกัน\n          ถูกหล่อหลอมด้วยเหตุการณ์ต่างๆ ของยุคสมัยที่แตกต่างกัน\n          เราเลยอยากหาวิธีเทียบชีวิตของเรากับชีวิตของคนอื่นๆ\n        </p>\n        <p className=\"mb-4\">\n          เราหวังว่าการแชร์สิ่งนี้ให้คนรอบตัวคุณ\n          จะได้เริ่มบทสนทนาให้คุณและพวกเขาได้เข้าใจกันมากขึ้น\n        </p>\n        <p className=\"text-right\">\n          ธนวิชญ์ ประสงค์พงษ์ชัย - เด็กสมัย 1995\n          <br />\n          อลิษา ลิ้มไพบูลย์ - เด็กสมัย 1996\n        </p>\n        <p className=\"text-right\">ติดต่อพูดคุยกันเพิ่มเติมได้ที่ _____</p>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.log);\n"],"sourceRoot":""}
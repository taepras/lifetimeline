{"version":3,"sources":["config/Theme.js","GlobalStyle.js","components/FullScreenPage.js","components/Container.js","components/Select.js","components/Button.js","config/Config.js","components/YearSelector.js","pages/Home.js","components/CenterBox.js","pages/Intro.js","components/EventBubble.js","components/EventDialog.js","components/Dialog.js","components/YearGroup.js","data/events.csv","data/celebrities.csv","data/life.csv","pages/Timeline.js","components/MenuBar.js","App.js","reportWebVitals.js","index.js"],"names":["containerMaxWidth","bubbleXOffset","spacing","xxs","BASE_UNIT","xs","x1","x2","x3","x4","GlobalStyle","createGlobalStyle","isBorn","Theme","FullScreenPage","styled","div","z","console","log","theme","Container","padding","fillHeight","Select","select","Button","button","block","outlined","Utils","yearAd","yearMode","text","x","min","max","Math","useStateWithPromise","initialState","useState","state","setState","resolverRef","useRef","useEffect","current","handleSetState","useCallback","stateAction","Promise","resolve","yearRangeMin","yearRangeMax","defaultYearMode","yearsOffset","yearHeight","spacePerEvent","yOffsetCollapsedEvents","xSpacePerCollapsedEvent","xOffsetCollapsedEvents","zoomStep","minZoom","maxZoomSteps","generations","2010","1997","1981","1965","1946","YearSelector","onSubmit","year","Config","buttonLabel","yearRange","selectedYear","setSelectedYear","errorMsg","setErrorMsg","i","push","onChange","e","target","value","reverse","map","y","className","onClick","Title","h1","Home","onProceed","style","display","alignItems","marginBottom","StyledCenterBox","CenterBox","children","IntroPage","blink","blinkTop","keyframes","blinkBottom","blinkText","IntroText","EyelidTop","EyelidBottom","Intro","birthYear","onPageChange","isBlinking","setBlinking","setTimeout","blinkDelay","handleColorType","type","StyledEvent","relative","EventThumbnail","collapsed","eventType","lighten","image","darken","EventIcon","EventDescription","EventBubble","title","onCollapsedClick","transform","backgroundImage","opacity","FadeOverlay","open","StyledEventDialog","CloseButton","EventDialog","setOpen","data","onClose","currentTarget","getTypeLabel","name","event","Date","getFullYear","Dialog","StyledYearGroup","YearNumber","Tick","YearGroup","zoomLevel","smoothTransition","onDialogOpen","maxDisplay","useMemo","floor","getBubbleYPosition","index","ceil","getBubbleXPosition","transition","Array","d","events","TimelineContainer","Banner","ZoomControls","RefLineContainer","RefLine","AgeBox","Age","TimelineLine","zoomExtent","yearStartDisplay","yearEndDisplay","timelineMinLength","timelineMaxLength","maxZoomOffset","maxContainerHeight","scaleY","d3Scale","domain","range","Timeline","onYearChange","isDialogOpen","setDialogOpen","dialogData","setDialogData","openYearChange","setOpenYearChange","eventsNested","_setEventsNested","d3","setTransform","transformedScaleY","setTransformedScaleY","isNormalizingTransform","yearAtRefLine","setYearAtRefLine","scrollRange","currentScrollListener","setCurrentScrollListener","refLineEl","timelineRef","usePinch","da","delta","scrollOffset","document","body","scrollTop","documentElement","c","origin","zoom","domTarget","eventOptions","passive","capture","window","removeEventListener","handleScroll","preventDefault","scrollTo","offsetY","getBoundingClientRect","top","invert","addEventListener","setEventsNested","newEventsNested","eventsNestedTemp","clone","forEach","then","openDialog","zoomAt","t","k","yOnCurrentZoom","translate","scale","dz","centerY","tempZoomLevel","zoomCenterY","refLineBb","tempTransform","tempScaleY","rescaleY","scrollToYear","scrollY","all","eventsData","lifeData","celebsData","files","celebrities","d3Collection","key","entries","values","sort","importance","j","yearList","g","yr","includes","a","b","preprocessData","ref","position","textAlign","height","fontSize","eventGroup","pageY","StyledMenuBar","MenuItem","MenuBar","mode","onYearModeChange","onOpenAbout","onHome","handleYearMode","href","flexGrow","App","appMode","setAppMode","setYearMode","setBirthYear","isTransitioning","setTransitioning","openAbout","setOpenAbout","startTimeline","page","id","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d13f7127.chunk.js","sourcesContent":["const BASE_UNIT = 8;\r\n\r\nexport default {\r\n    containerMaxWidth: 480,\r\n    bubbleXOffset: 100,\r\n    spacing: {\r\n        xxs: BASE_UNIT / 4,\r\n        xs: BASE_UNIT / 2,\r\n        x1: BASE_UNIT,\r\n        x2: BASE_UNIT * 2,\r\n        x3: BASE_UNIT * 3,\r\n        x4: BASE_UNIT * 4,\r\n    }\r\n};","import { createGlobalStyle } from \"styled-components\";\r\nimport Theme from \"./config/Theme\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  body {\r\n    /* background-color: #DED8C9; */\r\n    height: 100vh;\r\n    background-attachment: fixed;\r\n    background-repeat: no-repeat;\r\n\r\n    background-color: #DED8C9;\r\n    color: #333;\r\n    /* background: \r\n    radial-gradient(\r\n        100% 60% at 50% 45%, \r\n        rgba(137, 130, 119, 0) 30%, \r\n        rgba(85, 80, 72, 0.57) 85%, \r\n        rgba(85, 80, 72, 0.75) 100%\r\n      ), \r\n      #DED8C9; */\r\n    background-blend-mode: normal, normal;\r\n    \r\n    &::after {\r\n      content: \" \";\r\n      background: \r\n      ${({ isBorn }) => (isBorn ? \r\n        `radial-gradient(\r\n          100% 60% at 50% 45%, \r\n          rgba(85, 80, 72, 0) 30%, \r\n          rgba(85, 80, 72, 0.4) 85%, \r\n          rgba(85, 80, 72, 0.6) 100%\r\n        );`\r\n        :\r\n        `radial-gradient(\r\n          100% 60% at 50% 45%, \r\n          rgba(0, 0, 0, 0) 30%, \r\n          rgba(0, 0, 0, 0.4) 85%, \r\n          rgba(0, 0, 0, 0.6) 100%\r\n        );`\r\n      )}\r\n      position: fixed;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      pointer-events: none;\r\n      z-index: 0;\r\n    }\r\n\r\n    font-family: thonglor;\r\n    font-size: 20px;\r\n  }\r\n\r\n  h1, h2, h3, h4, h5, h6 {\r\n    font-family: anugrom;\r\n    font-weight: normal;\r\n  }\r\n\r\n  p {\r\n    margin-top: 0;\r\n    margin-bottom: ${Theme.spacing.x2}px;\r\n  }\r\n\r\n  .mt-0 { margin-top: 0; }\r\n  .mt-1 { margin-top: ${Theme.spacing.x1}px !important; }\r\n  .mt-2 { margin-top: ${Theme.spacing.x2}px !important; }\r\n  .mt-3 { margin-top: ${Theme.spacing.x3}px !important; }\r\n  .mt-4 { margin-top: ${Theme.spacing.x4}px !important; }\r\n\r\n  .mb-0 { margin-bottom: 0; }\r\n  .mb-1 { margin-bottom: ${Theme.spacing.x1}px !important; }\r\n  .mb-2 { margin-bottom: ${Theme.spacing.x2}px !important; }\r\n  .mb-3 { margin-bottom: ${Theme.spacing.x3}px !important; }\r\n  .mb-4 { margin-bottom: ${Theme.spacing.x4}px !important; }\r\n\r\n  .mr-0 { margin-right: 0; }\r\n  .mr-1 { margin-right: ${Theme.spacing.x1}px !important; }\r\n  .mr-2 { margin-right: ${Theme.spacing.x2}px !important; }\r\n  .mr-3 { margin-right: ${Theme.spacing.x3}px !important; }\r\n  .mr-4 { margin-right: ${Theme.spacing.x4}px !important; }\r\n\r\n  .text-center { text-align: center; }\r\n  .text-left { text-align: left; }\r\n  .text-right { text-align: right; }\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","import styled from 'styled-components';\r\n\r\nconst FullScreenPage = styled.div`\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    z-index: ${({z}) => z || 1};\r\n`\r\n\r\nexport default FullScreenPage;","import styled from 'styled-components';\r\nimport theme from '../config/Theme';\r\n\r\nconsole.log(theme.spacing.x2);\r\n\r\nconst Container = styled.div`\r\n    width: auto;\r\n    max-width: ${theme.containerMaxWidth}px;\r\n    margin: auto;\r\n    padding: 0 ${({padding}) => padding || theme.spacing.x2}px;\r\n\r\n    ${({fillHeight}) => fillHeight && `height: 100%;`}\r\n`\r\n\r\nexport default Container;","import styled from 'styled-components';\r\nimport theme from '../config/Theme';\r\n\r\nconst Select = styled.select`\r\n    width: 100%;\r\n    border: 1px solid #eee;\r\n    border-radius: ${theme.spacing.xs}px;\r\n    box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);\r\n    height: ${theme.spacing.x4}px;\r\n    padding: 0 ${theme.spacing.x1}px;\r\n`\r\n\r\nexport default Select;","import styled from 'styled-components';\r\nimport theme from '../config/Theme';\r\n\r\nconst Button = styled.button`\r\n    ${({block}) => block && `width: 100%;` }\r\n    border: ${({outlined}) => outlined ? '1px solid #fff' : 'none'};\r\n    border-radius: ${theme.spacing.xs}px;\r\n    /* height: ${theme.spacing.x4}px; */\r\n    padding: ${theme.spacing.x1}px ${theme.spacing.x1 * 1.5}px;\r\n    background-color: ${({outlined}) => outlined ? 'transparent' : '#C14953'};\r\n    ${({outlined}) => !outlined && `box-shadow: 0px 4px 8px rgba(142, 34, 43, 0.21);`}\r\n    color: #fff;\r\n`\r\n\r\nexport default Button;","import { useState, useRef, useCallback, useEffect } from 'react';\r\n\r\nconst generations = {\r\n  2010: 'Generation Alpha',\r\n  1997: 'Generation Z',\r\n  1981: 'Generation Y',\r\n  1965: 'Generation X',\r\n  1946: 'Baby Boomer',\r\n}\r\n\r\nexport const Utils = {\r\n  typeYear: (yearAd, yearMode = \"ad\", text = false) =>\r\n    (text ? (yearMode == \"ad\" ? \"ค.ศ. \" : \"พ.ศ. \") : \"\") +\r\n    (yearMode == \"ad\" ? +yearAd : +yearAd + 543),\r\n  Clamp: (x, min, max) => Math.min(Math.max(x, min), max),\r\n};\r\n\r\nexport const useStateWithPromise = (initialState) => {\r\n  const [state, setState] = useState(initialState);\r\n  const resolverRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (resolverRef.current) {\r\n      resolverRef.current(state);\r\n      resolverRef.current = null;\r\n    }\r\n    /**\r\n     * Since a state update could be triggered with the exact same state again,\r\n     * it's not enough to specify state as the only dependency of this useEffect.\r\n     * That's why resolverRef.current is also a dependency, because it will guarantee,\r\n     * that handleSetState was called in previous render\r\n     */\r\n  }, [resolverRef.current, state]);\r\n\r\n  const handleSetState = useCallback((stateAction) => {\r\n    setState(stateAction);\r\n    return new Promise(resolve => {\r\n      resolverRef.current = resolve;\r\n    });\r\n  }, [setState])\r\n\r\n  return [state, handleSetState];\r\n};\r\n\r\nexport default {\r\n  yearRangeMin: 1920,\r\n  yearRangeMax: 2020,\r\n  defaultYearMode: \"ad\",\r\n  yearsOffset: 2,\r\n  yearHeight: 120,\r\n  spacePerEvent: 80,\r\n  yOffsetCollapsedEvents: 60,\r\n  xSpacePerCollapsedEvent: 16,\r\n  xOffsetCollapsedEvents: 20,\r\n  zoomStep: 0.7,\r\n  minZoom: 1,\r\n  maxZoomSteps: 3,\r\n  // zoomLevelsCount: 5,\r\n\r\n  generations,\r\n};\r\n","import { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Config, { Utils } from \"../config/Config\";\r\nimport Button from \"./Button\";\r\nimport Select from \"./Select\";\r\n\r\nfunction YearSelector({\r\n  onSubmit = (year) => {},\r\n  yearMode,\r\n  yearRangeMin = Config.yearRangeMin,\r\n  yearRangeMax = Config.yearRangeMax,\r\n  buttonLabel,\r\n}) {\r\n  let yearRange = [];\r\n  const [selectedYear, setSelectedYear] = useState(-1);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setSelectedYear(+e.target.value);\r\n  };\r\n\r\n  const handleProceed = () => {\r\n    if (selectedYear > 0) onSubmit(selectedYear);\r\n    else setErrorMsg(\"กรุณาเลือกปีเกิด\");\r\n  };\r\n\r\n  for (let i = yearRangeMin; i <= yearRangeMax; i++) {\r\n    yearRange.push(i);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Select onChange={handleChange}>\r\n        <option>เลือกปีเกิด</option>\r\n        {yearRange.reverse().map((y, i) => (\r\n          <option key={`select-${y}`} value={y}>\r\n            {Utils.typeYear(y, yearMode, true)} {y in Config.generations && `(${Config.generations[y]})`}\r\n          </option>\r\n        ))}\r\n      </Select>\r\n      {errorMsg}\r\n      <Button className=\"mt-1\" block onClick={handleProceed}>\r\n        {buttonLabel || \"ไปย้อนดูชีวิตของคุณกัน\"}\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default YearSelector;\r\n","// import logo from './logo.svg';\r\nimport { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport FullScreenPage from \"../components/FullScreenPage\";\r\nimport Container from \"../components/Container\";\r\nimport Select from \"../components/Select\";\r\nimport Button from \"../components/Button\";\r\nimport YearSelector from \"../components/YearSelector\";\r\n\r\nimport Config, { Utils } from \"../config/Config\";\r\nimport Theme from \"../config/Theme\";\r\n\r\nconst Title = styled.h1`\r\n  font-size: 48px;\r\n  margin-bottom: 0;\r\n  margin-bottom: ${Theme.spacing.x2}px;\r\n`;\r\n\r\nfunction Home({ onProceed, yearMode }) {\r\n  let yearRange = [];\r\n  const [selectedYear, setSelectedYear] = useState(-1);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setSelectedYear(+e.target.value);\r\n  };\r\n\r\n  const handleProceed = () => {\r\n    if (selectedYear > 0) onProceed(selectedYear);\r\n    else setErrorMsg(\"กรุณาเลือกปีเกิด\");\r\n  };\r\n\r\n  for (let i = Config.yearRangeMin; i <= Config.yearRangeMax; i++) {\r\n    yearRange.push(i);\r\n  }\r\n\r\n  return (\r\n    <FullScreenPage>\r\n      <Container\r\n        fillHeight\r\n        style={{ display: \"flex\", alignItems: \"center\" }}\r\n        padding={Theme.spacing.x4}\r\n      >\r\n        <div style={{ marginBottom: \"80px\" }}>\r\n          <Title>\r\n            เด็กสมัย<u>ไหน</u>?\r\n          </Title>\r\n          <p>\r\n            เมื่อเกิดคนละปี ก็โตมาในสภาพสังคมคนละแบบ\r\n            ชวนคุณกลับไปลองดูว่าเด็กสมัยคุณเติบโตผ่านอะไรมา และเมื่อเทียบกันแล้ว\r\n            คนอื่นโตมาเหมือนหรือต่างกับคุณยังไงบ้าง\r\n          </p>\r\n          <p>คุณเกิดปี</p>\r\n          <YearSelector onSubmit={onProceed} yearMode={yearMode} />\r\n          {/* <Select onChange={handleChange}>\r\n            <option>เลือกปีเกิด</option>\r\n            {yearRange.reverse().map((y) => (\r\n              <>\r\n                <option key={y} value={y}>\r\n                  {Utils.typeYear(y, yearMode, true)}\r\n                </option>\r\n              </>\r\n            ))}\r\n          </Select>\r\n          {errorMsg}\r\n          <Button className=\"mt-2\" block onClick={handleProceed}>\r\n            ไปย้อนดูชีวิตของคุณกัน\r\n          </Button> */}\r\n        </div>\r\n      </Container>\r\n    </FullScreenPage>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import styled from \"styled-components\";\r\n\r\nconst StyledCenterBox = styled.div`\r\n  width: auto;\r\n  ${({ fillHeight }) => fillHeight && `height: 100%;`}\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nfunction CenterBox({ className, children, fillHeight }) {\r\n  return (\r\n    <StyledCenterBox className={className} fillHeight={fillHeight}>\r\n      <div>{children}</div>\r\n    </StyledCenterBox>\r\n  );\r\n}\r\n\r\nexport default CenterBox;\r\n","// import logo from './logo.svg';\r\nimport { useEffect, useState } from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport FullScreenPage from \"../components/FullScreenPage\";\r\nimport Container from \"../components/Container\";\r\nimport Select from \"../components/Select\";\r\nimport CenterBox from \"../components/CenterBox\";\r\n\r\nimport Config, { Utils } from \"../config/Config\";\r\nimport Theme from \"../config/Theme\";\r\n\r\nconst blinkDelay = 3;\r\nconst blinkDuration = 2;\r\n\r\nconst IntroPage = styled(FullScreenPage)`\r\n  color: #fff;\r\n  text-align: center;\r\n\r\n  pointer-events: none;\r\n  transition: 1s opacity;\r\n  z-index: 1000;\r\n  ${({ blink }) => !blink && `opacity: 0;`}\r\n`;\r\n\r\nconst blinkTop = keyframes`\r\n  0%   { transform: translateY(0%); }\r\n  20%  { transform: translateY(-50%); }\r\n  40%  { transform: translateY(-10%); }\r\n  100% { transform: translateY(-100%); }\r\n`;\r\n\r\nconst blinkBottom = keyframes`\r\n  0%   { transform: translateY(0%); }\r\n  20%  { transform: translateY(50%); }\r\n  40%  { transform: translateY(10%); }\r\n  100% { transform: translateY(100%); }\r\n`;\r\n\r\nconst blinkText = keyframes`\r\n  0%   { opacity: 1; }\r\n  100% { opacity: 0; }\r\n`;\r\n\r\nconst IntroText = styled(CenterBox)`\r\n  color: #fff;\r\n\r\n  animation-name: ${({ blink }) => (blink ? blinkText : \"none\")};\r\n  animation-delay: ${blinkDelay}s;\r\n  animation-duration: ${blinkDuration}s;\r\n  animation-fill-mode: forwards;\r\n  transition: 0.3s all;\r\n\r\n  * {\r\n    margin: 0;\r\n    margin-bottom: ${Theme.spacing.x1}px;\r\n  }\r\n`;\r\n\r\nconst EyelidTop = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 60%;\r\n  z-index: -1;\r\n  background: linear-gradient(to bottom, #000f 90%, #0000 100%);\r\n\r\n  animation-name: ${({ blink }) => (blink ? blinkTop : \"none\")};\r\n  animation-delay: ${blinkDelay}s;\r\n  animation-duration: ${blinkDuration}s;\r\n  animation-fill-mode: forwards;\r\n  transition: 0.3s all;\r\n`;\r\n\r\nconst EyelidBottom = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 60%;\r\n  z-index: -1;\r\n  background: linear-gradient(to top, #000f 90%, #0000 100%);\r\n\r\n  animation-name: ${({ blink }) => (blink ? blinkBottom : \"none\")};\r\n  animation-delay: ${blinkDelay}s;\r\n  animation-duration: ${blinkDuration}s;\r\n  animation-fill-mode: forwards;\r\n  transition: 0.3s all;\r\n`;\r\n\r\nfunction Intro({\r\n  birthYear = 0,\r\n  yearMode = \"ad\",\r\n  blink = false,\r\n  onPageChange = () => {},\r\n}) {\r\n  const yearRange = [];\r\n  const [isBlinking, setBlinking] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\"blink check\", blink);\r\n    if (blink) {\r\n      console.log(\"blink started\");\r\n      setBlinking(true);\r\n      setTimeout(onPageChange, (blinkDelay / 2) * 1000);\r\n      setTimeout(() => setBlinking(false), (blinkDelay + blinkDuration) * 1000);\r\n    }\r\n  }, [blink]);\r\n\r\n  return (\r\n    <IntroPage z={100} blink={isBlinking}>\r\n      <EyelidTop blink={blink} />\r\n      <EyelidBottom blink={blink} />\r\n      <IntroText fillHeight blink={blink}>\r\n        <p>นี่คือโลกในมุมมองของ</p>\r\n        <h1>\r\n          เด็กสมัย <u>{Utils.typeYear(birthYear, yearMode)}</u>\r\n        </h1>\r\n      </IntroText>\r\n    </IntroPage>\r\n  );\r\n}\r\n\r\nexport default Intro;\r\n","import styled from \"styled-components\";\r\nimport Theme from \"../config/Theme\";\r\nimport { lighten, darken } from \"polished\";\r\n\r\nconst borderWidth = 3;\r\n\r\nconst handleColorType = (type) => {\r\n  switch (type) {\r\n    case \"thailand\":\r\n      return \"#D89D3E\";\r\n    case \"world\":\r\n      return \"#6599A5\";\r\n    case \"birthyear\":\r\n      return \"#ac646a\";\r\n    default:\r\n      return \"#fff\";\r\n  }\r\n};\r\n\r\nconst StyledEvent = styled.div`\r\n  display: flex;\r\n  width: calc(min(100vw, ${Theme.containerMaxWidth}px) - ${({x}) => x}px - ${Theme.spacing.x1 * 6}px);\r\n  max-width: calc(min(100vw, ${Theme.containerMaxWidth}px) - ${({x}) => x}px - ${Theme.spacing.x1 * 6}px);\r\n  height: 64px;\r\n  overflow: visible;\r\n  align-items: center;\r\n  transform: translateY(-50%);\r\n  position: ${({ relative }) => (relative ? \"relative\" : \"absolute\")};\r\n  z-index: ${({ z }) => z};\r\n\r\n  transition: 0.3s all;\r\n\r\n  pointer-events: none;\r\n`;\r\n\r\nconst EventThumbnail = styled.div`\r\n  width: 64px; //${({ collapsed }) => (collapsed ? \"24px\" : \"64px\")};\r\n  flex: 0 0 64px; //${({ collapsed }) => (collapsed ? \"24px\" : \"64px\")};\r\n  height: 64px; //${({ collapsed }) => (collapsed ? \"24px\" : \"64px\")};\r\n  ${({ collapsed }) => collapsed && `transform: scale(0.375);`}\r\n  border-radius: ${({ eventType }) =>\r\n    eventType === \"birthyear\" ? \"50%\" : \"8px\"};\r\n  box-sizing: border-box;\r\n  background-color: ${({ eventType }) =>\r\n    lighten(0.2, handleColorType(eventType))};\r\n  /* background-image: url(${({ image }) => image}); */\r\n  background-size: cover;\r\n  background-position: center center;\r\n  border: ${({ collapsed }) => borderWidth * (collapsed ? 2.5 : 1)}px solid\r\n    ${({ eventType }) => handleColorType(eventType)};\r\n  margin-right: ${Theme.spacing.x1 * 1.5}px;\r\n  position: relative;\r\n  box-shadow: 0px 2px 4px\r\n    ${({ eventType }) => darken(0.3, handleColorType(eventType))}44;\r\n\r\n  transition: 0.3s transform;\r\n`;\r\n\r\nconst EventIcon = styled.div`\r\n  position: absolute;\r\n  right: -${borderWidth}px;\r\n  bottom: -${borderWidth}px;\r\n  width: 24px;\r\n  height: 24px;\r\n\r\n  background: ${({ eventType }) => handleColorType(eventType)};\r\n  border-radius: ${({ eventType }) =>\r\n    eventType === \"birthyear\" ? \"50%\" : \"8px 0px\"};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  &::after {\r\n    content: \" \";\r\n    display: block;\r\n    width: 16px;\r\n    height: 16px;\r\n    background-color: #fff;\r\n    border-radius: 50%;\r\n  }\r\n`;\r\n\r\nconst EventDescription = styled.div``;\r\n\r\nfunction EventBubble({\r\n  title,\r\n  type = \"world\",\r\n  image,\r\n  onClick = () => {},\r\n  x,\r\n  y,\r\n  z,\r\n  relative,\r\n  collapsed = false,\r\n  onCollapsedClick = () => {}\r\n}) {\r\n  return (\r\n    <StyledEvent\r\n      onClick={(e) => {\r\n        if (!collapsed) onClick();\r\n        else onCollapsedClick(e);\r\n      }}\r\n      relative={relative}\r\n      style={{ transform: `translate(${x}px, ${y}px)` }}\r\n      z={z}\r\n      x={x}\r\n    >\r\n      <EventThumbnail\r\n        eventType={type}\r\n        style={{ backgroundImage: `url(/img/events/${image})` }}\r\n        collapsed={collapsed}\r\n      >\r\n        {!collapsed && <EventIcon eventType={type}></EventIcon>}\r\n      </EventThumbnail>\r\n      {!collapsed && (\r\n        <EventDescription eventType={type}>\r\n          {type == \"birthyear\" && (\r\n            <>\r\n              <small style={{ opacity: 0.7 }}>ปีเกิด</small>\r\n              <br />\r\n            </>\r\n          )}\r\n          {title}\r\n        </EventDescription>\r\n      )}\r\n    </StyledEvent>\r\n  );\r\n}\r\n\r\nexport default EventBubble;\r\n","import styled from \"styled-components\";\r\nimport Theme from \"../config/Theme\";\r\nimport Button from \"./Button\";\r\nimport { lighten, darken } from \"polished\";\r\nimport { Utils } from \"../config/Config\";\r\n\r\nconst borderWidth = 4;\r\n\r\nconst handleColorType = (type) => {\r\n  switch (type) {\r\n    case \"thailand\":\r\n      return \"#D89D3E\";\r\n    case \"world\":\r\n      return \"#6599A5\";\r\n    case \"birthyear\":\r\n      return \"#ac646a\";\r\n    default:\r\n      return \"#fff\";\r\n  }\r\n};\r\n\r\nconst FadeOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: #0008;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 500;\r\n\r\n  transition: 0.3s all;\r\n  ${({ open }) =>\r\n    !open &&\r\n    `\r\n    opacity: 0;\r\n    pointer-events: none;\r\n  `}\r\n`;\r\n\r\nconst StyledEventDialog = styled.div`\r\n  width: 320px;\r\n  max-width: calc(100% - ${Theme.spacing.x2 * 2}px);\r\n  /* align-items: center; */\r\n  /* transform: translateY(-50%); */\r\n  border-radius: 8px;\r\n  background-color: ${({ eventType }) =>\r\n    darken(0.1, handleColorType(eventType))};\r\n  box-shadow: 0px 2px 4px\r\n    ${({ eventType }) => darken(0.3, handleColorType(eventType))}44;\r\n  color: #fff;\r\n  position: relative;\r\n\r\n  transition: 0.3s all;\r\n  ${({ open }) =>\r\n    !open &&\r\n    `\r\n    opacity: 0;\r\n    transform: translateY(100px);\r\n  `}\r\n`;\r\n\r\nconst EventThumbnail = styled.div`\r\n  width: 100%;\r\n  height: 240px;\r\n\r\n  border-radius: 8px;\r\n  box-sizing: border-box;\r\n  background-size: cover;\r\n  background-position: center center;\r\n\r\n  background-color: ${({ eventType }) =>\r\n    lighten(0.2, handleColorType(eventType))};\r\n  background-image: url(${({ image }) => image});\r\n  border: ${borderWidth}px solid\r\n    ${({ eventType }) => darken(0.1, handleColorType(eventType))};\r\n\r\n  position: relative;\r\n`;\r\n\r\nconst EventIcon = styled.div`\r\n  position: absolute;\r\n  right: -${borderWidth}px;\r\n  bottom: -${borderWidth}px;\r\n  /* width: 24px; */\r\n  height: 24px;\r\n  padding: 0 ${Theme.spacing.x1}px;\r\n\r\n  background: ${({ eventType }) => darken(0.1, handleColorType(eventType))};\r\n  border-radius: ${({ eventType }) =>\r\n    eventType == \"birthyear\" ? \"50%\" : \"8px 0px\"};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst EventDescription = styled.div`\r\n  padding: ${Theme.spacing.x2}px;\r\n\r\n  * {\r\n    margin: 0;\r\n    margin-bottom: ${Theme.spacing.x1}px;\r\n\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  h2 {\r\n    line-height: 1.2;\r\n  }\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  border: none;\r\n  color: #fff;\r\n  display: flex;\r\n  font-size: 24px;\r\n  line-height: 1;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  width: 32px;\r\n  height: 32px;\r\n  right: 8px;\r\n  top: 8px;\r\n\r\n  z-index: 10;\r\n  background: rgba(51, 51, 51, 0.5);\r\n  border-radius: 16px;\r\n`;\r\n\r\nfunction EventDialog({\r\n  open,\r\n  setOpen = (open) => {},\r\n  children,\r\n  title,\r\n  data,\r\n  type = \"world\",\r\n  year,\r\n  yearMode,\r\n  birthYear,\r\n  image,\r\n  onClick = () => {},\r\n  onClose = () => {},\r\n}) {\r\n  const getTypeLabel = (type) => {\r\n    switch (type) {\r\n      case \"thailand\":\r\n        return \"เหตุการณ์สำคัญไทย\";\r\n        break;\r\n      case \"world\":\r\n        return \"เหตุการณ์สำคัญโลก\";\r\n        break;\r\n      case \"birthyear\":\r\n        return \"ปีเกิดบุคคลสำคัญ\";\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FadeOverlay\r\n      open={open}\r\n      onClick={(e) => {\r\n        if (e.currentTarget == e.target) setOpen(false);\r\n      }}\r\n    >\r\n      <StyledEventDialog onClick={onClick} eventType={type} open={open}>\r\n        <CloseButton\r\n          onClose={onClose}\r\n          onClick={(e) => {\r\n            setOpen(false);\r\n            onClose(e);\r\n          }}\r\n        >\r\n          ×\r\n        </CloseButton>\r\n        <EventThumbnail\r\n          style={{ backgroundImage: `url(/img/events/${image})` }}\r\n          eventType={type}\r\n        >\r\n          <EventIcon eventType={type}>⬤ {getTypeLabel(data.type)}</EventIcon>\r\n        </EventThumbnail>\r\n        <EventDescription eventType={type}>\r\n          <h2>{data.type == \"birthyear\" ? data.name : data.event}</h2>\r\n          <p>\r\n            {Utils.typeYear(year, yearMode, true)} {data.type == \"birthyear\" &&\r\n              `- ปีนี้อายุ ${new Date().getFullYear() - year} ปี`}\r\n            <br />\r\n            {data.type != \"birthyear\" && (\r\n              <>\r\n                {year - birthYear > 0 &&\r\n                  `ตอนที่เด็กสมัย ${birthYear} มีอายุ ${year - birthYear} ปี`}\r\n                {year - birthYear < 0 &&\r\n                  `ก่อนเด็กสมัย ${birthYear} เกิด ${year - birthYear} ปี`}\r\n              </>\r\n            )}\r\n          </p>\r\n          <Button className=\"mt-1\" block outlined>\r\n            อ่านเพิ่มเติมเกี่ยวกับเหตุการณ์นี้\r\n          </Button>\r\n        </EventDescription>\r\n      </StyledEventDialog>\r\n    </FadeOverlay>\r\n  );\r\n}\r\n\r\nexport default EventDialog;\r\n","import styled from \"styled-components\";\r\nimport Theme from \"../config/Theme\";\r\nimport Button from \"./Button\";\r\nimport { lighten, darken } from \"polished\";\r\n\r\nconst borderWidth = 4;\r\n\r\nconst FadeOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: #0008;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 500;\r\n\r\n  transition: 0.3s all;\r\n  ${({ open }) =>\r\n    !open &&\r\n    `\r\n    opacity: 0;\r\n    pointer-events: none;\r\n  `}\r\n`;\r\n\r\nconst StyledEventDialog = styled.div`\r\n  width: calc(100% - ${Theme.spacing.x2 * 2}px);\r\n  max-width: 480px;\r\n  /* align-items: center; */\r\n  /* transform: translateY(-50%); */\r\n  border-radius: 8px;\r\n  background-color: #ece8e3;\r\n  box-shadow: 0px 2px 4px ${darken(0.3, '#ece8e3')};\r\n  color: #222;\r\n  position: relative;\r\n  padding: ${Theme.spacing.x3}px;\r\n  box-sizing: border-box;\r\n\r\n  transition: 0.3s all;\r\n  ${({ open }) =>\r\n    !open &&\r\n    `\r\n    opacity: 0;\r\n    transform: translateY(100px);\r\n  `}\r\n\r\n* {\r\n    margin: 0;\r\n    margin-bottom: ${Theme.spacing.x1}px;\r\n\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  h1, h2, h3, h4, h5, h6 {\r\n    line-height: 1.2;\r\n  }\r\n`;\r\n\r\nconst CloseButton = styled.button`\r\n  border: none;\r\n  color: #fff;\r\n  display: flex;\r\n  font-size: 24px;\r\n  line-height: 1;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  width: 32px;\r\n  height: 32px;\r\n  right: 8px;\r\n  top: 8px;\r\n\r\n  z-index: 10;\r\n  background: rgba(51, 51, 51, 0.5);\r\n  border-radius: 16px;\r\n`;\r\n\r\nfunction Dialog({\r\n  open,\r\n  setOpen = (open) => {},\r\n  children,\r\n  onClose = () => {},\r\n}) {\r\n  return (\r\n    <FadeOverlay\r\n      open={open}\r\n      onClick={(e) => {\r\n        if ((e.currentTarget == e.target)) setOpen(false);\r\n      }}\r\n    >\r\n      <StyledEventDialog open={open}>\r\n        <CloseButton\r\n          onClose={onClose}\r\n          onClick={(e) => {\r\n            setOpen(false);\r\n            onClose(e);\r\n          }}\r\n        >\r\n          ×\r\n        </CloseButton>\r\n        {children}\r\n      </StyledEventDialog>\r\n    </FadeOverlay>\r\n  );\r\n}\r\n\r\nexport default Dialog;\r\n","import { max } from \"d3\";\r\nimport { useMemo } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Config, { Utils } from \"../config/Config\";\r\nimport Theme from \"../config/Theme\";\r\nimport EventBubble from \"./EventBubble\";\r\n\r\nconst StyledYearGroup = styled.div`\r\n  position: absolute;\r\n`;\r\n\r\nconst YearNumber = styled.div`\r\n  position: absolute;\r\n  top:32px;\r\n  left: ${Theme.spacing.x1 * 4.5}px;\r\n  transform: translate(-50%, -50%);\r\n  text-align: center;\r\n  padding: ${Theme.spacing.xs}px;\r\n  background-color: ${({ isBorn }) => (isBorn ? \"#DED8C9\" : \"#161514\")};\r\n  transition: 0.5s all;\r\n`;\r\n\r\nconst Tick = styled.div`\r\n  position: absolute;\r\n  top: 32px;\r\n  left: ${Theme.spacing.x1 * 4.5}px;\r\n  transform: translate(-50%, -50%);\r\n  background-color: ${({ isBorn }) => (isBorn ? \"#333\" : \"#fff\")};\r\n  height: 1px;\r\n  width: 8px;\r\n`\r\n\r\nfunction YearGroup({\r\n  year,\r\n  y,\r\n  yearMode,\r\n  birthYear,\r\n  data,\r\n  zoomLevel = 1,\r\n  className,\r\n  children,\r\n  style,\r\n  isBorn,\r\n  smoothTransition = true,\r\n  onDialogOpen = (event) => {},\r\n  onCollapsedClick = (event) => {},\r\n}) {\r\n\r\n  const maxDisplay = useMemo(() => {\r\n    return Math.floor((zoomLevel - Config.minZoom) / Config.zoomStep) + Config.minZoom\r\n  }, [zoomLevel])\r\n\r\n  // console.log(\"events\", data.year, data);\r\n  const getBubbleYPosition = (index) =>\r\n    index < maxDisplay\r\n      ? index * Config.spacePerEvent\r\n      : Math.ceil(maxDisplay - 1) * Config.spacePerEvent + Config.yOffsetCollapsedEvents;\r\n\r\n  const getBubbleXPosition = (index) =>\r\n    index < maxDisplay\r\n      ? 0\r\n      : Math.floor(index - maxDisplay) * Config.xSpacePerCollapsedEvent;\r\n\r\n  return (\r\n    <StyledYearGroup\r\n      style={{\r\n        // ...style,\r\n        transform: `translateY(${y}px)`,\r\n        transition: smoothTransition ? \"0.3s all\" : \"none\",\r\n      }}\r\n    >\r\n      <YearNumber isBorn={isBorn}>\r\n        {Utils.typeYear(year, yearMode)}\r\n      </YearNumber>\r\n      {[...Array(Math.max(Math.floor(maxDisplay - 1), 0))].map((d, i) => \r\n        <Tick \r\n          isBorn={isBorn}\r\n          key={i}\r\n          style={{\r\n            // ...style,\r\n            transform: `translate(-50%, ${Config.spacePerEvent * (i + 1)}px)`,\r\n          }}/>\r\n      )}\r\n      {/* | {+year - +birthYear} ปี */}\r\n      {data.events.map((event, index) => (\r\n        <EventBubble\r\n          y={getBubbleYPosition(index)}\r\n          x={Theme.bubbleXOffset + getBubbleXPosition(index)}\r\n          title={event.type == \"birthyear\" ? event.name : event.event}\r\n          type={event.type}\r\n          image={event.image}\r\n          collapsed={index >= maxDisplay}\r\n          z={10 - index}\r\n          key={year + \"-\" + index}\r\n          onClick={() => onDialogOpen(event)}\r\n          onCollapsedClick={(e)=> onCollapsedClick(e, event)}\r\n        />\r\n      ))}\r\n    </StyledYearGroup>\r\n  );\r\n}\r\n\r\nexport default YearGroup;\r\n","export default __webpack_public_path__ + \"static/media/events.384cfac5.csv\";","export default __webpack_public_path__ + \"static/media/celebrities.830a867e.csv\";","export default __webpack_public_path__ + \"static/media/life.91f8f7a1.csv\";","import { useEffect, useState, useRef, useMemo } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Container from \"../components/Container\";\r\nimport Button from \"../components/Button\";\r\nimport EventBubble from \"../components/EventBubble\";\r\nimport EventDialog from \"../components/EventDialog\";\r\nimport YearSelector from \"../components/YearSelector\";\r\nimport Dialog from \"../components/Dialog\";\r\nimport YearGroup from \"../components/YearGroup\";\r\n\r\nimport Config, { Utils, useStateWithPromise } from \"../config/Config\";\r\nimport Theme from \"../config/Theme\";\r\n\r\nimport * as d3 from \"d3\";\r\nimport * as d3Collection from \"d3-collection\";\r\nimport * as d3Scale from \"d3-scale\";\r\n\r\nimport clone from \"clone\";\r\n\r\nimport eventsData from \"../data/events.csv\";\r\nimport celebsData from \"../data/celebrities.csv\";\r\nimport lifeData from \"../data/life.csv\";\r\n\r\nimport { zoom } from \"d3\";\r\n\r\nimport { usePinch, useDrag } from \"react-use-gesture\";\r\n\r\nconst TimelineContainer = styled(Container)`\r\n\r\n  color: ${({ isBorn }) => (isBorn ? \"#333\" : \"#fff\")};;\r\n  transition: 0.5s all;\r\n\r\n  background-color: #DED8C9;\r\n\r\n  &::before {\r\n    content: \" \";\r\n    background-color: ${({ isBorn }) => (isBorn ? \"#DED8C9\" : \"#161514\")};\r\n    color: ${({ isBorn }) => (isBorn ? \"#333\" : \"#fff\")};\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    pointer-events: none;\r\n    z-index: 0;\r\n    transition: 0.5s all;\r\n  }\r\n  \r\n  &::after {\r\n    content: \" \";\r\n    background: \r\n    ${({ isBorn }) =>\r\n      isBorn\r\n        ? `radial-gradient(\r\n        100% 60% at 50% 45%, \r\n        rgba(85, 80, 72, 0) 30%, \r\n        rgba(85, 80, 72, 0.57) 85%, \r\n        rgba(85, 80, 72, 0.75) 100%\r\n      );`\r\n        : `radial-gradient(\r\n        100% 60% at 50% 45%, \r\n        rgba(0, 0, 0, 0) 30%, \r\n        rgba(0, 0, 0, 0.57) 85%, \r\n        rgba(0, 0, 0, 0.75) 100%\r\n      );`}\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    pointer-events: none;\r\n    z-index: 0;\r\n\r\n    transition: 0.5s all;\r\n  }\r\n`;\r\n\r\nconst Banner = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  right: ${Theme.spacing.x2}px;\r\n  padding: ${Theme.spacing.x2}px;\r\n\r\n  text-align: right;\r\n  background: #ece8e3;\r\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.15);\r\n  border-radius: 0px 0px 8px 8px;\r\n  z-index: 100;\r\n  color: #333;\r\n\r\n  h1 {\r\n    margin: 0;\r\n    line-height: 1.2;\r\n    margin-bottom: ${Theme.spacing.x1}px;\r\n  }\r\n`;\r\n\r\nconst ZoomControls = styled.div`\r\n  position: fixed;\r\n  right: ${Theme.spacing.x2}px;\r\n  bottom: 80px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  z-index: 1;\r\n\r\n  ${Button} {\r\n    font-size: 1.2em;\r\n  }\r\n`;\r\n\r\nconst RefLineContainer = styled.div`\r\n  width: 100%;\r\n  position: fixed;\r\n  top: 50vh;\r\n  z-index: 100;\r\n`;\r\n\r\nconst RefLine = styled.div`\r\n  width: 100%;\r\n  height: 4px;\r\n  background-color: #f005;\r\n  position: fixed;\r\n  top: 50vh;\r\n`;\r\n\r\nconst AgeBox = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: ${Theme.spacing.x1 * 9}px;\r\n  height: ${Theme.spacing.x1 * 5}px;\r\n  white-space: nowrap;\r\n  top: 0;\r\n  left: ${Theme.spacing.x2}px;\r\n  /* padding: 4px 8px; */\r\n  background-color: ${({ isBorn }) => (isBorn ? \"#e4dfd3\" : \"#2c2b28\")};\r\n  color: ${({ isBorn }) => (isBorn ? \"#333\" : \"#fff\")};\r\n  border: ${Theme.spacing.xs}px solid #f005;\r\n  border-radius: ${Theme.spacing.x1 * 50}px;\r\n  /* border-radius: 50%; */\r\n  transform: translateY(-50%);\r\n  transition: 0.5s all;\r\n\r\n  /* width: 50px; */\r\n`;\r\n\r\nconst Age = styled.div`\r\n  font-weight: bold;\r\n  font-size: ${20 * 1.25}px;\r\n  margin-top: -4px;\r\n`;\r\n\r\nconst TimelineLine = styled.div`\r\n  position: absolute;\r\n  left: ${Theme.spacing.x2 + Theme.spacing.x1 * 4.5}px;\r\n  height: 100%;\r\n  width: 1px;\r\n\r\n  background-color: ${({ isBorn }) => (isBorn ? \"#333\" : \"#fff\")};\r\n`;\r\n\r\nconst zoomExtent = [\r\n  Config.minZoom,\r\n  Config.minZoom + Config.maxZoomSteps * Config.zoomStep,\r\n];\r\n\r\nconst yearStartDisplay = Config.yearRangeMin - Config.yearsOffset;\r\nconst yearEndDisplay = Config.yearRangeMax + Config.yearsOffset;\r\n\r\nconst yearSpan = Config.yearRangeMax - Config.yearRangeMin;\r\nconst yearSpanToDisplay = yearSpan + 2 * Config.yearsOffset;\r\nconst timelineMinLength = yearSpanToDisplay * Config.yearHeight;\r\nconst timelineMaxLength = timelineMinLength * zoomExtent[1];\r\n\r\nconst maxZoomOffset = timelineMaxLength - timelineMinLength;\r\nconst maxContainerHeight = timelineMaxLength * 2 - timelineMinLength;\r\n\r\nconst scaleY = d3Scale\r\n  .scaleLinear()\r\n  .domain([yearStartDisplay, yearEndDisplay])\r\n  .range([maxZoomOffset, maxZoomOffset + timelineMinLength]);\r\n\r\nfunction Timeline({ birthYear, yearMode, onYearChange = (year) => {} }) {\r\n  const [isDialogOpen, setDialogOpen] = useState(false);\r\n  const [dialogData, setDialogData] = useState({});\r\n  const [openYearChange, setOpenYearChange] = useState(false);\r\n  const [eventsNested, _setEventsNested] = useStateWithPromise([]);\r\n\r\n  const [transform, setTransform] = useStateWithPromise(d3.zoomIdentity);\r\n  const [transformedScaleY, setTransformedScaleY] = useStateWithPromise(\r\n    () => scaleY\r\n  );\r\n  // const transformedScaleY = useMemo(() => transform.rescaleY(scaleY), [transform]);\r\n  const [smoothTransition, setSmoothTransition] = useStateWithPromise(true);\r\n  const [isNormalizingTransform, setNormalizingTransform] = useStateWithPromise(\r\n    false\r\n  );\r\n\r\n  const [yearAtRefLine, setYearAtRefLine] = useState(0);\r\n\r\n  const [lastDy, setLastDy] = useState(null);\r\n\r\n  const scrollRange = useMemo(() => {\r\n    let x = [\r\n      transformedScaleY(yearStartDisplay),\r\n      transformedScaleY(yearEndDisplay),\r\n    ];\r\n    return x;\r\n  }, [transformedScaleY]);\r\n\r\n  const [currentScrollListener, setCurrentScrollListener] = useState(null);\r\n\r\n  const refLineEl = useRef(null);\r\n  const timelineRef = useRef(null);\r\n\r\n  // useDrag((state) => {\r\n  //   console.log(state)\r\n  // }, {\r\n  //   timelineRef,\r\n  //   eventOptions: { passive: false }\r\n  // });\r\n\r\n  const pinchBind = usePinch(\r\n    (state) => {\r\n      console.log(state);\r\n      let d = state.da[0];\r\n      let delta = state.delta[0] + state.delta[1];\r\n      const scrollOffset =\r\n        document.body.scrollTop || document.documentElement.scrollTop;\r\n      let c = state.origin[0] + scrollOffset;\r\n      console.log(state.origin);\r\n      zoom(delta / d, c);\r\n    },\r\n    { \r\n      domTarget: timelineRef, \r\n      // filterTaps: false, \r\n      eventOptions: { \r\n        passive: false,\r\n        capture: true\r\n      } \r\n    }\r\n  );\r\n\r\n  // useEffect(pinchBind, [pinchBind])\r\n\r\n  const handleYearChange = (year) => {\r\n    setOpenYearChange(false);\r\n    onYearChange(year);\r\n    scrollToYear(year);\r\n  };\r\n\r\n  const preprocessData = (events, celebrities) => {\r\n    let eventsNestedTemp = d3Collection\r\n      .nest()\r\n      .key((d) => d.year)\r\n      .entries(events)\r\n      .map((d) => ({\r\n        year: d.key,\r\n        events: d.values,\r\n      }));\r\n\r\n    eventsNestedTemp.forEach((d) => {\r\n      d.events.sort((x, y) => x.importance - y.importance);\r\n      d.celebrities = [];\r\n    });\r\n\r\n    for (let i in eventsNestedTemp) {\r\n      let x = -1;\r\n      for (let j in celebrities) {\r\n        if (+celebrities[j].year == +eventsNestedTemp[i].year) {\r\n          celebrities[j].type = \"birthyear\";\r\n          eventsNestedTemp[i].events.push(celebrities[j]);\r\n        }\r\n      }\r\n    }\r\n\r\n    let yearList = eventsNestedTemp.map((g) => g.year);\r\n    for (let yr = yearStartDisplay; yr <= yearEndDisplay; yr++) {\r\n      if (!yearList.includes(yr)) {\r\n        eventsNestedTemp.push({\r\n          year: yr,\r\n          events: [],\r\n        });\r\n      }\r\n    }\r\n\r\n    eventsNestedTemp.sort((a, b) => a.year - b.year);\r\n    return eventsNestedTemp;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (currentScrollListener)\r\n      window.removeEventListener(\"scroll\", currentScrollListener);\r\n\r\n    const handleScroll = (e) => {\r\n      const scrollOffset =\r\n        document.body.scrollTop || document.documentElement.scrollTop;\r\n      // console.log(scrollRange, transform);\r\n      if (scrollOffset < scrollRange[0]) {\r\n        console.log(\"too low\");\r\n        e.preventDefault();\r\n        window.scrollTo(0, scrollRange[0]);\r\n      }\r\n      if (scrollOffset > scrollRange[1]) {\r\n        console.log(\"too high\");\r\n        e.preventDefault();\r\n        window.scrollTo(0, scrollRange[1]);\r\n      }\r\n\r\n      // console.log(transformedScaleY.invert(scrollOffset))\r\n      let scrollTop = document.documentElement.scrollTop;\r\n      let refLineBb = refLineEl.current\r\n        ? refLineEl.current.getBoundingClientRect()\r\n        : 0;\r\n      let offsetY = scrollTop + refLineBb.top;\r\n      setYearAtRefLine(Math.floor(transformedScaleY.invert(offsetY)));\r\n    };\r\n    setCurrentScrollListener(() => handleScroll);\r\n    window.addEventListener(\"scroll\", handleScroll, { passive: false });\r\n  }, [scrollRange]);\r\n\r\n  const setEventsNested = (newEventsNested) => {\r\n    return new Promise((resolve) => {\r\n      let eventsNestedTemp = clone(newEventsNested);\r\n      eventsNestedTemp.forEach((e) => {\r\n        e.y = transformedScaleY(e.year);\r\n      });\r\n      _setEventsNested(eventsNestedTemp).then(resolve);\r\n    });\r\n  };\r\n\r\n  const openDialog = (event) => {\r\n    setDialogData(event);\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const zoomAt = (t, y, k) => {\r\n    let yOnCurrentZoom = t.invert([0, y])[1];\r\n    let tNew = t\r\n      .translate(0, yOnCurrentZoom)\r\n      .scale(k)\r\n      .translate(0, -yOnCurrentZoom);\r\n    return tNew;\r\n  };\r\n\r\n  const zoom = (dz, centerY = null) => {\r\n    console.log(dz, centerY);\r\n\r\n    let tempZoomLevel = Utils.Clamp(\r\n      transform.k + dz,\r\n      zoomExtent[0],\r\n      zoomExtent[1]\r\n    );\r\n    // let k = Utils.Clamp(transform.k * dy / lastDy, 1, 5);\r\n    let zoomCenterY = 0;\r\n    if (centerY === null) {\r\n      let scrollTop = document.documentElement.scrollTop;\r\n      let refLineBb = refLineEl.current\r\n        ? refLineEl.current.getBoundingClientRect()\r\n        : 0;\r\n      zoomCenterY = scrollTop + refLineBb.top;\r\n    } else {\r\n      zoomCenterY = centerY;\r\n    }\r\n\r\n    let tempTransform = zoomAt(\r\n      transform,\r\n      zoomCenterY,\r\n      tempZoomLevel / transform.k\r\n    );\r\n    let tempScaleY = tempTransform.rescaleY(scaleY);\r\n\r\n    // console.log('t', tempTransform);\r\n    setTransform(tempTransform);\r\n    setTransformedScaleY(() => tempScaleY);\r\n  };\r\n\r\n  const scrollToYear = (year, scale) => {\r\n    let refLineBb = refLineEl.current.getBoundingClientRect();\r\n    let scaledYear = scale ? scale(year) : transformedScaleY(year);\r\n    let scrollY = scaledYear - refLineBb.top;\r\n    window.scrollTo(0, scrollY);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setEventsNested(eventsNested);\r\n  }, [transformedScaleY]);\r\n\r\n  useEffect(() => {\r\n    Promise.all([\r\n      d3.csv(eventsData),\r\n      d3.csv(lifeData),\r\n      d3.csv(celebsData),\r\n    ]).then((files) => {\r\n      console.log(\"fileloaded\");\r\n      let events = files[0];\r\n      let life = files[1];\r\n      let celebrities = files[2];\r\n\r\n      let eventsNestedTemp = preprocessData(events, celebrities);\r\n      setEventsNested(eventsNestedTemp).then(() => scrollToYear(birthYear));\r\n    });\r\n  }, []);\r\n\r\n  // const onTouchMove = (e) => {\r\n  //   console.log('touch')\r\n  //   if (e.touches.length > 1) {\r\n  //     e.preventDefault();\r\n  //     e.stopImmediatePropagation();\r\n\r\n  //     if (lastDy === null) {\r\n  //       setLastDy(e.touches[1].pageY - e.touches[0].pageY);\r\n  //       return;\r\n  //     }\r\n\r\n  //     let dy = e.touches[1].pageY - e.touches[0].pageY;\r\n  //     let yCenter = (e.touches[1].pageY + e.touches[0].pageY) / 2;\r\n\r\n  //     console.log(dy / lastDy - 1, yCenter);\r\n  //     zoom(dy / lastDy - 1, yCenter);\r\n  //     setLastDy(dy);\r\n  //   }\r\n  // };\r\n\r\n  // const onTouchEnd = (e) => {\r\n  //   if (e.touches.length > 1) {\r\n  //     // isZooming = true;\r\n  //     e.preventDefault();\r\n  //     e.nativeEvent.stopImmediatePropagation();\r\n  //     setLastDy(null);\r\n  //   }\r\n  // };\r\n\r\n  useEffect(() => {\r\n    console.log(\"!!!!\");\r\n\r\n    // timelineRef.current.addEventListener('touchmove', onTouchMove, {passive: false})\r\n\r\n    document.addEventListener(\"gesturestart\", (e) => e.preventDefault());\r\n    document.addEventListener(\"gesturechange\", (e) => e.preventDefault());\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <RefLineContainer>\r\n        <RefLine ref={refLineEl}></RefLine>\r\n        <Container style={{ position: \"relative\" }}>\r\n          <AgeBox isBorn={yearAtRefLine >= birthYear}>\r\n            {yearAtRefLine > birthYear ? (\r\n              <div style={{ textAlign: \"center\" }}>\r\n                <small>อายุ</small>\r\n                <Age>{yearAtRefLine - birthYear} ปี</Age>\r\n              </div>\r\n            ) : yearAtRefLine < birthYear ? (\r\n              <div style={{ textAlign: \"center\" }}>\r\n                <small>ก่อนเกิด</small>\r\n                <Age>{birthYear - yearAtRefLine} ปี</Age>\r\n              </div>\r\n            ) : (\r\n              `ปีแรกเกิด`\r\n            )}\r\n          </AgeBox>\r\n        </Container>\r\n      </RefLineContainer>\r\n      <TimelineContainer\r\n        isBorn={yearAtRefLine >= birthYear}\r\n        style={{\r\n          height: `${maxContainerHeight}px`,\r\n          position: \"relative\",\r\n        }}\r\n        ref={timelineRef}\r\n        // onTouchMove={onTouchMove}\r\n      >\r\n        <TimelineLine isBorn={yearAtRefLine >= birthYear} />\r\n        <Banner>\r\n          <h1 style={{ marginBottom: \"0\" }}>\r\n            <div style={{ fontSize: \"21px\" }}>โลกในมุมมอง</div>\r\n            <div style={{ fontSize: \"28px\" }}>\r\n              เด็กสมัย <u>{Utils.typeYear(birthYear, yearMode)}</u>\r\n            </div>\r\n          </h1>\r\n          <p style={{ marginBottom: Theme.spacing.x1 }}>\r\n            (ปัจจุบันอายุ {new Date().getFullYear() - birthYear} ปี)\r\n          </p>\r\n          <Button onClick={() => setOpenYearChange(true)}>เปลี่ยนปีเกิด</Button>\r\n        </Banner>\r\n        {eventsNested.map((eventGroup, i) => (\r\n          <YearGroup\r\n            year={eventGroup.year}\r\n            data={eventGroup}\r\n            yearMode={yearMode}\r\n            isBorn={yearAtRefLine >= birthYear}\r\n            birthYear={birthYear}\r\n            y={eventGroup.y}\r\n            onDialogOpen={openDialog}\r\n            zoomLevel={transform.k}\r\n            smoothTransition={!isNormalizingTransform}\r\n            key={`item${i}`}\r\n            onCollapsedClick={(e) => zoom(Config.zoomStep, e.pageY)}\r\n          />\r\n        ))}\r\n        <EventDialog\r\n          open={isDialogOpen}\r\n          setOpen={setDialogOpen}\r\n          data={dialogData}\r\n          title={\r\n            dialogData.type == \"birthyear\" ? dialogData.name : dialogData.event\r\n          }\r\n          year={dialogData.year}\r\n          yearMode={yearMode}\r\n          birthYear={birthYear}\r\n          image={dialogData.image}\r\n          type={dialogData.type}\r\n        />\r\n        <ZoomControls>\r\n          <Button onClick={() => zoom(Config.zoomStep)}>+</Button>\r\n          <Button onClick={() => zoom(-Config.zoomStep)}>-</Button>\r\n        </ZoomControls>\r\n      </TimelineContainer>\r\n      <Dialog open={openYearChange} setOpen={setOpenYearChange}>\r\n        <h2>เปลี่ยนปีเกิด</h2>\r\n        <YearSelector onSubmit={handleYearChange} yearMode={yearMode} />\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Timeline;\r\n","import styled from \"styled-components\";\r\nimport Theme from \"../config/Theme\";\r\nimport Container from \"./Container\";\r\n\r\nconst StyledMenuBar = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  height: 80px;\r\n  background: linear-gradient(180deg, #38353100 0%, #383531ff 100%);\r\n  z-index: 100;\r\n`;\r\n\r\nconst MenuItem = styled.div`\r\n  padding-bottom: ${Theme.spacing.x2}px;\r\n  color: #fff;\r\n  margin-right: ${Theme.spacing.x2}px;\r\n\r\n  &:last-child {\r\n    margin-right: 0;\r\n  }\r\n\r\n  a:link, a:visited {\r\n    color: #fff;\r\n  }\r\n\r\n  a.active {\r\n    opacity: 0.7;\r\n    font-weight: bold;\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nfunction MenuBar({\r\n  mode = \"home\",\r\n  yearMode,\r\n  onYearModeChange = (mode) => {},\r\n  onOpenAbout = () => {},\r\n  onHome = () => {},\r\n}) {\r\n  const handleYearMode = (e, mode) => {\r\n    e.preventDefault();\r\n    console.log('!!!!!')\r\n    onYearModeChange(mode);\r\n  };\r\n\r\n  return (\r\n    <StyledMenuBar>\r\n      <Container fillHeight style={{ display: \"flex\", alignItems: \"flex-end\" }}>\r\n        {mode != \"home\" && (\r\n          <>\r\n            <MenuItem onClick={onHome}>Home</MenuItem>\r\n          </>\r\n        )}\r\n        <MenuItem>\r\n          <a\r\n            href=\"#\"\r\n            onClick={(e) => {\r\n              handleYearMode(e, \"be\");\r\n            }}\r\n            className={yearMode == 'be' ? 'active' : ''}\r\n          >\r\n            พ.ศ.\r\n          </a>{\" \"}\r\n          |{\" \"}\r\n          <a\r\n            href=\"#\"\r\n            onClick={(e) => {\r\n              handleYearMode(e, \"ad\");\r\n            }}\r\n            className={yearMode == 'ad' ? 'active' : ''}\r\n          >\r\n            ค.ศ.\r\n          </a>\r\n        </MenuItem>\r\n        <div style={{ flexGrow: 1 }}></div>\r\n        {mode != \"home\" && (\r\n          <>\r\n            <MenuItem>วิธีเล่น</MenuItem>\r\n            <MenuItem>สัญลักษณ์</MenuItem>\r\n          </>\r\n        )}\r\n        <MenuItem onClick={onOpenAbout}>About</MenuItem>\r\n      </Container>\r\n    </StyledMenuBar>\r\n  );\r\n}\r\n\r\nexport default MenuBar;\r\n","// import logo from './logo.svg';\nimport { useState } from \"react\";\nimport GlobalStyle from \"./GlobalStyle\";\nimport \"./App.css\";\n\nimport Home from \"./pages/Home\";\nimport Intro from \"./pages/Intro\";\nimport Timeline from \"./pages/Timeline\";\nimport MenuBar from \"./components/MenuBar\";\nimport Dialog from \"./components/Dialog\";\n\nfunction App() {\n  const [appMode, setAppMode] = useState(\"home\");\n  const [yearMode, setYearMode] = useState(\"ad\");\n  const [birthYear, setBirthYear] = useState(1995);\n  const [isTransitioning, setTransitioning] = useState(false);\n  const [openAbout, setOpenAbout] = useState(false);\n\n  const startTimeline = (year) => {\n    console.log(\"start transtiion\");\n    setBirthYear(year);\n    setTransitioning(false);\n    setTimeout(() => {\n      setTransitioning(true);\n    }, 100);\n  };\n\n  const onPageChange = (page) => {\n    console.log(\"pagechange\");\n    setAppMode(page);\n  };\n\n  return (\n    <div id=\"app\" className=\"App\">\n      <GlobalStyle />\n\n      {appMode == \"home\" && (\n        <Home yearMode={yearMode} onProceed={startTimeline} />\n      )}\n      {appMode == \"timeline\" && (\n        <Timeline\n          yearMode={yearMode}\n          birthYear={birthYear}\n          onYearChange={startTimeline}\n        />\n      )}\n\n      <Intro\n        yearMode={yearMode}\n        blink={isTransitioning}\n        birthYear={birthYear}\n        onPageChange={() => {\n          onPageChange(\"timeline\");\n        }}\n      />\n\n      <MenuBar\n        mode={appMode}\n        yearMode={yearMode}\n        onYearModeChange={(mode) => setYearMode(mode)}\n        onHome={() => {\n          onPageChange(\"home\");\n        }}\n        onOpenAbout={() => setOpenAbout(true)}\n      />\n\n      <Dialog open={openAbout} setOpen={setOpenAbout}>\n        <p className=\"mb-0\">About</p>\n        <h2 className=\"mb-4\">จาก \"เด็กสมัยนี้\"</h2>\n        <p>\n          เราเชื่อว่าการเปลี่ยนแปลงจะเกิดขึ้นได้ ส่วนหนึ่งเกิดจากการเข้าใจกัน\n          และการเข้าใจกันจะเกิดขึ้นได้\n          ส่วนหนึ่งคือการเข้าใจว่าแต่ละคนเติบโตมาในสภาพแวดล้อมที่แตกต่างกัน\n          ถูกหล่อหลอมด้วยเหตุการณ์ต่างๆ ของยุคสมัยที่แตกต่างกัน\n          เราเลยอยากหาวิธีเทียบชีวิตของเรากับชีวิตของคนอื่นๆ\n        </p>\n        <p className=\"mb-4\">\n          เราหวังว่าการแชร์สิ่งนี้ให้คนรอบตัวคุณ\n          จะได้เริ่มบทสนทนาให้คุณและพวกเขาได้เข้าใจกันมากขึ้น\n        </p>\n        <p className=\"text-right\">\n          ธนวิชญ์ ประสงค์พงษ์ชัย - เด็กสมัย 1995\n          <br />\n          อลิษา ลิ้มไพบูลย์ - เด็กสมัย 1996\n        </p>\n        <p className=\"text-right\">ติดต่อพูดคุยกันเพิ่มเติมได้ที่ _____</p>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.log);\n"],"sourceRoot":""}